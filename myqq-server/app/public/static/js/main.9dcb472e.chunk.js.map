{"version":3,"sources":["views/Login/store/reducer.js","views/Login/store/constants.js","api/instance.js","api/LoginRequest.js","views/Login/store/actionCreator.js","views/Login/style.js","components/context/Icon/index.js","components/common/LoginInput/style.js","components/common/LoginInput/index.js","components/common/LoginInput/assets/close.png","components/common/Dialog/style.js","components/common/Dialog/index.js","components/common/loading/index.js","components/common/Toast/index.js","views/Login/index.js","views/Home/style.js","components/common/Avator/index.js","components/context/userDetail/style.js","components/context/userDetail/index.js","components/context/messageBox/index.js","components/common/Nav/index.js","components/common/Transition/index.js","components/context/EditDetail/index.js","api/HomeRequest.js","store/socketHandle/action.js","views/EditPage/index.js","views/Chat/store/actionCreator.js","views/Chat/store/constants.js","views/Chat/store/reducer.js","views/User/index.js","views/Home/store/actionCreator.js","api/GetSocket.js","views/Home/store/constants.js","views/Home/store/reducer.js","store/reducer.js","store/index.js","store/socketHandle/index.js","views/Home/index.js","components/context/Input/index.js","components/common/Scroll/index.js","components/context/Message/selfMessage.js","components/context/Message/otherMessage.js","components/context/Message/index.js","components/context/chatBox/index.js","utils/index.js","views/Chat/index.js","components/context/Friend/index.js","views/Message/index.js","components/context/ZoomMessage/index.js","views/PubZoom/index.js","views/Zoom/index.js","views/AddFriends/index.js","views/Friends/style.js","views/Friends/index.js","routes/index.js","globalStyle/normalize.js","globalStyle/selfStyle.js","components/common/AnimationGo/index.js","App.js","reportWebVitals.js","index.js"],"names":["initialState","token","loading","isLogin","isError","isRegister","TOKEN","LOADING","ISLOGIN","ERROR","REGISTER","instance","axios","create","baseURL","timeout","interceptors","response","use","status","Promise","resolve","data","reject","changeToken","type","actionType","changeLoading","changeIsLogin","changeError","changeRegister","getRegister","username","password","dispatch","method","url","Register","then","res","setTimeout","catch","console","log","getLogin","Login","changeLoadingStatus","changeIsLoginStatus","changeErrorStatus","changeRegisterStatus","tokenChange","LoginStyle","styled","div","Icon","React","memo","props","xlinkHref","size","className","aria-hidden","style","width","height","InputStyle","SelfInput","placeHolder","maxLength","value","handleInput","handleIconClick","useState","isInput","setIsInput","useEffect","onClick","placeholder","onChange","e","target","opacity","transition","src","alt","DialogStyle","Dialog","open","title","needCheck","buttonDesc","onCancel","onConfirm","onExit","display","children","event","stopPropagation","keyframes","LoadingWrapper","Loading","GlobalToast","ToastStyle","Toast","content","CSSTransition","in","classNames","unmountOnExit","error","history","register","changeIsError","registerUser","setPassword","setUsername","isLoginStatus","setIsLoginStatus","confirmPassword","setConfirmPassword","toast","setToast","setContent","changeToast","localToken","localStorage","getItem","headers","getInfo","setItem","push","err","href","LoginInput","animation","marginTop","fontSize","textDecoration","color","connect","state","LoginReducer","userInfo","actionCreator","getUserInfo","NavBar","Avator","imgSrc","borderRadius","UserContain","MessageContain","UserDetail","nickName","userName","margin","MessageBox","NavStyle","Nav","Transition","show","position","left","right","top","bottom","overflow","zIndex","backgroundColor","EditStyle","EditDetail","getQiniuToken","get","Authorization","file2qiniuCloud","selfToken","file","a","key","formData","FormData","append","post","getZoomByPage","page","params","chat2target","socket","message","window","btoa","encodeURIComponent","emit","EditPage","confirm","setConfirm","isLoading","setIsLoading","setUserInfo","accept","files","avator","signature","name","checked","String","gender","dayjs","birthday","format","editUserDetail","HomeReducer","targetChange","TARGET","targetDetailChange","targetDetail","TARGETDETAIL","messageListChange","messageList","MESSAGELIST","addMessageList","INSERTONEROWMESSAGELIST","unReadMessageListChange","unReadMessageList","UNREADMESSAGELIST","friendListChange","friendList","FRIENDLIST","countChange","countData","CHANGECOUNT","messageChange","messageData","CHANGELASTMESSAGE","userID","BottomButton","LoginActionCreator","clearUnReadMessageList","ChatActionCreator","withRouter","setShow","getDetail","removeItem","location","reload","Date","toLocaleDateString","socketConnect","io","getSocket","SOCKET","userInfoChange","USERINFO","searchFriendListChange","searchFriendList","SEARCHFRIENDLIST","added","adding","combineReducers","action","produce","draft","ChatReducer","count","lastMessage","messageType","messageValue","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","reducer","applyMiddleware","thunk","store","isOk","socketListener","on","homeActionCreator","obj","chatActionCreator","getState","dispatcher","tempUnReadMessageList","getInfoByUserID","userDetail","list","tabbarConfig","xlinkHrefActive","path","text","Home","currentIndex","setCurrentIndex","forEach","item","index","pathname","spaceBetween","initialSlide","slidesPerView","User","renderRoutes","route","routes","map","Input","forwardRef","ref","showEmoji","setShowEmoji","setValue","handleValue","handleImage","useImperativeHandle","hiddenInput","getValue","getImage","inputFile","useRef","divInput","contentEditable","id","suppressContentEditableWarning","tabIndex","onInput","currentTarget","innerText","onFocus","current","click","onMouseDown","preventDefault","set","showPreview","showSkinTones","theme","onSelect","emoji","native","ScrollContainer","Scroll","bScroll","setBScroll","scrollContaninerRef","direction","refresh","bounceTop","bounceBottom","pullUp","pullDown","onScroll","scroll","BScroll","scrollX","scrollY","probeType","bounce","off","y","maxScrollY","pos","getBScroll","defaultProps","pullUpLoading","pullDownLoading","SelfMessageStyle","DescBox","img","MessageTitle","DateTitle","ImgMessage","SelfMessgae","date","handleImgLoaded","onLoad","onload","OtherMessgae","MessageStyle","Message","ChatBoxStyle","ChatBox","handleClick","bscroll","scrollTo","onresize","calendar","require","extend","locale","formatDate","sameDay","nextDay","nextWeek","lastDay","lastWeek","sameElse","ChatStyle","Chat","targetAvator","targetNickname","useSelector","useDispatch","messageListAfterHandle","decodeURIComponent","atob","recevier","getTargetChatMessage","FriendStyle","Friend","desc","needIcon","visibility","FriendList","setAvator","nickname","setNickname","fakeData","length","ZoomMessageStyle","ZoomMessage","handleLoad","PubZoomStyle","PubZoom","setImgSrc","contentText","contentImgSrc","pubZoom","toString","cols","rows","ZoomStyle","Zoom","pub","setPub","setPage","mockData","setMockData","getFirstPage","resData","split","testData","AddStyle","AddFriends","showToast","keyword","getSearchFriend","getAddFriend","justifyContent","FriendContain","Friends","changeTarget","chat","setChat","openToast","setOpenToast","openDialog","setOpenDialog","setTarget","getFriendShip","sender","friendID","textAlign","getAgreeFriend","getDeleteFriend","exact","component","render","to","NormalizeStyle","createGlobalStyle","SelfStyle","ANIMATION_MAP","PUSH","POP","AnimationGo","TransitionGroup","childFactory","child","cloneElement","substring","lastIndexOf","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.9dcb472e.chunk.js","sourcesContent":["// 在此处编写业务逻辑并导出给最外层app的store\r\n// 使用immer来保证immutable效果\r\nimport { produce } from 'immer'\r\n// 导入动作方式\r\nimport { actionType } from './index'\r\n// 初始值\r\nconst initialState = {\r\n    // jwt\r\n    token: '',\r\n    // 是否正在加载\r\n    loading: false,\r\n    // 是否登录成功\r\n    isLogin: false,\r\n    // 是否出现业务逻辑上的失败\r\n    isError: false,\r\n    // 是否注册成功\r\n    isRegister: false\r\n}\r\n// reducer写法： state=initialState指定初始值\r\nconst LoginReducer = function (state = initialState, action) {\r\n    return produce(state, (draft) => {\r\n        switch (action.type) {\r\n            case actionType.TOKEN:\r\n                draft.token = action.data\r\n                break;\r\n            case actionType.LOADING:\r\n                draft.loading = action.data\r\n                break;\r\n            case actionType.ISLOGIN:\r\n                draft.isLogin = action.data\r\n                break;\r\n            case actionType.ERROR:\r\n                draft.isError = action.data\r\n                break;\r\n            case actionType.REGISTER:\r\n                draft.isRegister = action.data\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    })\r\n}\r\nexport { LoginReducer }","// 登录数据只需要一个token \r\nexport const TOKEN = 'TOKEN';\r\n// 设置loding\r\nexport const LOADING = 'LOADING'\r\n// 是否已经登录\r\nexport const ISLOGIN = 'ISLOGIN'\r\n// 是否触发失败（出现异常）\r\nexport const ERROR = 'ERROR'\r\n// 是否注册成功\r\nexport const REGISTER = 'REGISTER'","// 配置axios实例\r\nimport axios from 'axios'\r\nconst instance = axios.create({\r\n    baseURL: 'http://localhost:7001',\r\n    // baseURL: 'http://192.168.1.104:7001',\r\n    // baseURL: 'http://10.116.205.130:7001',\r\n    timeout: 5000,\r\n})\r\n// 配置响应拦截器\r\ninstance.interceptors.response.use(\r\n    response => {\r\n        if (response.status === 200) {\r\n            return Promise.resolve(response.data)\r\n        } else {\r\n            return Promise.reject(response)\r\n        }\r\n    }\r\n)\r\n\r\nexport {\r\n    instance\r\n}","import { instance } from '../api/instance'\r\n// 登录函数\r\nconst Login = (username, password) => {\r\n    return instance({\r\n        method: 'POST',\r\n        url: `/user/login`,\r\n        data: {\r\n            username,\r\n            password,\r\n        }\r\n    })\r\n}\r\n// 注册\r\nconst Register = (username, password) => {\r\n    return instance({\r\n        method: 'POST',\r\n        url: '/user/register',\r\n        data: {\r\n            username,\r\n            password,\r\n        }\r\n    })\r\n}\r\n// 获取信息\r\nconst getInfo = (username, token) => {\r\n    return instance({\r\n        method: 'GET',\r\n        url: '/user/getInfo',\r\n        data: {\r\n            username,\r\n        },\r\n        headers: {\r\n            'Authorization': \"Bearer \" + token\r\n        }\r\n    })\r\n}\r\n// 通过userID获取信息\r\nconst getInfoByUserID = (userID, token) => {\r\n    return instance({\r\n        method: 'POST',\r\n        url: '/user/getInfoByID',\r\n        headers: {\r\n            'Authorization': \"Bearer \" + token\r\n        },\r\n        data: {\r\n            userID\r\n        }\r\n    })\r\n}\r\nexport {\r\n    Login,\r\n    getInfo,\r\n    Register,\r\n    getInfoByUserID\r\n}","import { actionType } from './index'\r\n// 登录函数\r\nimport { Login, Register } from '../../../api/LoginRequest'\r\n// 定义action\r\n// 改变TOKEN\r\nconst changeToken = (data) => (\r\n    {\r\n        type: actionType.TOKEN,\r\n        data: data\r\n    }\r\n)\r\n// 增加loading\r\nconst changeLoading = (data) => (\r\n    {\r\n        type: actionType.LOADING,\r\n        data: data\r\n    }\r\n)\r\n// isLogin\r\nconst changeIsLogin = (data) => (\r\n    {\r\n        type: actionType.ISLOGIN,\r\n        data: data\r\n    }\r\n)\r\n// error\r\nconst changeError = (data) => (\r\n    {\r\n        type: actionType.ERROR,\r\n        data: data\r\n    }\r\n)\r\n// register\r\nconst changeRegister = (data) => (\r\n    {\r\n        type: actionType.REGISTER,\r\n        data: data\r\n    }\r\n)\r\n// 注册\r\nexport const getRegister = (username, password) => {\r\n    return dispatch => {\r\n        Register(username, password).then(res => {\r\n            if (res.data.status) {\r\n                setTimeout(() => {\r\n                    dispatch(changeLoading(false));\r\n                    dispatch(changeRegister(true))\r\n                }, 1000);\r\n            } else {\r\n                setTimeout(() => {\r\n                    dispatch(changeLoading(false));\r\n                    dispatch(changeError(true));\r\n                }, 1000);\r\n            }\r\n        }).catch(res => {\r\n            console.log(res)\r\n            setTimeout(() => {\r\n                dispatch(changeLoading(false));\r\n                dispatch(changeError(true));\r\n            }, 1000);\r\n        })\r\n    }\r\n}\r\n\r\n// 编写登录动作 到时候将这个导出 在ui层里面使用\r\nexport const getLogin = (username, password) => {\r\n    //redux-thunk使用\r\n    return dispatch => {\r\n        Login(username, password).then(res => {\r\n            let token = res.data.token\r\n            // 成功获取token则派发数据 否则返回失败\r\n            if (token) {\r\n                setTimeout(() => {\r\n                    dispatch(changeIsLogin(true));\r\n                    dispatch(changeLoading(false))\r\n                    dispatch(changeToken(token))\r\n                }, 1000);\r\n            }\r\n            else {\r\n                console.log(res)\r\n                setTimeout(() => {\r\n                    dispatch(changeIsLogin(false));\r\n                    dispatch(changeLoading(false));\r\n                    dispatch(changeError(true));\r\n                }, 1000);\r\n            }\r\n        }).catch(res => {\r\n            console.log(res)\r\n            setTimeout(() => {\r\n                dispatch(changeIsLogin(false));\r\n                dispatch(changeLoading(false));\r\n                dispatch(changeError(true));\r\n            }, 1000);\r\n        })\r\n    }\r\n}\r\n\r\n// 根据status修改loading\r\nexport const changeLoadingStatus = (status) => {\r\n    return dispatch => {\r\n        dispatch(changeLoading(status))\r\n    }\r\n}\r\n\r\n// 修改isLogin\r\nexport const changeIsLoginStatus = (status) => {\r\n    return dispatch => {\r\n        dispatch(changeIsLogin(status))\r\n    }\r\n}\r\n\r\n// 修改error\r\nexport const changeErrorStatus = (status) => {\r\n    return dispatch => {\r\n        dispatch(changeError(status))\r\n    }\r\n}\r\n\r\n// 修改register\r\nexport const changeRegisterStatus = (status) => {\r\n    return dispatch => {\r\n        dispatch(changeRegister(status))\r\n    }\r\n}\r\n// 修改token\r\nexport const tokenChange = token => {\r\n    return dispatch => {\r\n        dispatch(changeToken(token))\r\n    }\r\n}","import styled from 'styled-components'\r\nconst LoginStyle = styled.div`\r\n/* 限定为fixed布局以应用react-transition-group */\r\n    position:fixed;\r\n    height:100vh;\r\n    width:100vw;\r\n/* 整体居中 */\r\n    display:flex;\r\n    flex-direction:column;\r\n    justify-content:center;\r\n    align-items:center;\r\n    /* 设置iconbox */\r\n    @keyframes circle{\r\n    from {\r\n        transform:rotate(0deg)\r\n    }\r\n\r\n    to {\r\n        transform:rotate(360deg)\r\n    }\r\n    }\r\n    .icon-box{\r\n        display:flex;\r\n        flex-direction:row;\r\n        justify-content:center;\r\n        align-items:center;\r\n        font-size:1.5rem;\r\n        // 来一点点偏移\r\n        a{\r\n            animation:circle 2s linear infinite ;\r\n        }\r\n        span{\r\n            position:relative;\r\n            left:0.5rem;\r\n            font-weight:900;\r\n            font-family:Arial, Helvetica, sans-serif\r\n        }\r\n    }\r\n    .button-go{\r\n        width:4rem;\r\n        height:4rem;\r\n        margin-top:1rem;\r\n        display:flex;\r\n        justify-content:center;\r\n        align-items:center;\r\n        border-radius:50%;\r\n        background-Image: linear-gradient( #f1c40f,40%, #f39c12 );    \r\n    }\r\n    .active-button{\r\n        animation:circle 1s linear infinite ;\r\n    }\r\n\r\n`\r\nexport {\r\n    LoginStyle\r\n}","import React from 'react'\r\nconst Icon = React.memo((props) => {\r\n    // xlinkHref指定icon类型 \r\n    // size指定大小  默认2.5rem\r\n    const { xlinkHref, size } = props\r\n    return (\r\n        <svg className=\"icon\" aria-hidden=\"true\" style={{ width:size || '2.5rem', height:size || '2.5rem'}}>\r\n            <use xlinkHref={xlinkHref}></use>\r\n        </svg>)})\r\nexport default React.memo(Icon) ","import styled from 'styled-components'\r\nconst InputStyle = styled.div`\r\nwidth: 100%;\r\ndisplay:flex;\r\nflex-direction:row;\r\njustify-content:center;\r\nalign-items:center;\r\npadding-top:1rem;\r\nanimation: showing 0.6s ease;\r\n.input-container {\r\n    width: 80%;\r\n    height: 50px;\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content: center;\r\n    align-items: center;\r\n    background-color: #f5f5f5;\r\n    border-radius: 40px;\r\n}\r\n\r\n.input-area {\r\n    width: 70%;\r\n    height: 100%;\r\n    input {\r\n        width: 90%;\r\n        height: 90%;\r\n        background-color: #f5f5f5;\r\n        overflow: hidden;\r\n        text-align:center;\r\n        border:none;\r\n    }\r\n}\r\n\r\n\r\n.img-box {\r\n    width: 15%;\r\n    padding: 20px;\r\n    img {\r\n         width: 60%;\r\n    }\r\n    \r\n}\r\n\r\n.canClear {\r\n    width: 10%;\r\n    padding-right: 10px;\r\n    img {\r\n        width: 80%;\r\n    }\r\n}\r\n@keyframes showing {\r\n    from {\r\n        opacity:0;\r\n        /* transform:translateX(100%); */\r\n    }\r\n\r\n    to {\r\n        opacity:1;\r\n        /* transform:translateX(0%); */\r\n    }\r\n}\r\n`\r\nexport {\r\n    InputStyle\r\n}","import React, { useState, useEffect } from \"react\";\r\nimport close from \"./assets/close.png\";\r\nimport { InputStyle } from './style'\r\nimport Icon from '../../context/Icon'\r\n/**\r\n *\r\n * @param {xlinkHref placeHolder type} props\r\n * xlinkHref:指定图标icon placeHolder指定占位string type string指定占位\r\n * type指定类型\"password/text\"\r\n * handleInput:父组件回调函数,处理输入\r\n * value:父组件指定值\r\n */\r\nfunction SelfInput(props) {\r\n    // 默认属性\r\n    const { xlinkHref, placeHolder, type, maxLength, value } = props;\r\n    // hanleInput 和 value分别处理值的更新\r\n    const { handleInput, handleIconClick } = props;\r\n    const [isInput, setIsInput] = useState(false);\r\n    useEffect(() => {\r\n        if (value !== \"\") {\r\n            setIsInput(true);\r\n        } else {\r\n            setIsInput(false);\r\n        }\r\n    }, [value]);\r\n    return (\r\n        <InputStyle>\r\n            <div className=\"input-container\">\r\n                <div className=\"img-box\" onClick={() => {\r\n                    if (handleIconClick) handleIconClick()\r\n                }}>\r\n                    <Icon xlinkHref={xlinkHref} size='1.7rem' />\r\n                </div>\r\n                <div className=\"input-area\">\r\n                    <input\r\n                        className=\"input-ref\"\r\n                        type={type ? type : \"text\"}\r\n                        placeholder={placeHolder}\r\n                        value={value ? value : \"\"}\r\n                        onChange={(e) => {\r\n                            // 调用父组件方法\r\n                            if (handleInput) handleInput(e.target.value);\r\n                        }}\r\n                        maxLength={maxLength || 16}\r\n                    />\r\n                </div>\r\n                <div className=\"canClear\">\r\n                    <img\r\n                        style={{\r\n                            opacity: isInput ? 1 : 0,\r\n                            transition: \"0.5s opacity\"\r\n                        }}\r\n                        src={close}\r\n                        alt=\"清空\"\r\n                        onClick={() => {\r\n                            // 清空\r\n                            handleInput(\"\");\r\n                        }}\r\n                    />\r\n                </div>\r\n            </div>\r\n        </InputStyle>\r\n\r\n    );\r\n}\r\n\r\nexport default React.memo(SelfInput);\r\n","export default \"data:image/png;base64,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\"","import styled from 'styled-components'\r\nconst DialogStyle = styled.div`\r\n    position:absolute;\r\n    z-index:1;\r\n    left:0;\r\n    right:0;\r\n    top:0;\r\n    bottom:0;\r\n    background-color:rgba(0,0,0,0.4);\r\n    display:flex;\r\n    flex-direction:column;\r\n    justify-content:center;\r\n    align-items:center;\r\n    color:#000;\r\n    @keyframes show{\r\n        from{\r\n            transform:scale(0);\r\n        }\r\n        to{\r\n            transform:scale(1);\r\n        }\r\n    }\r\n    .contain{\r\n        background-color:#fff;\r\n        width:70%;\r\n        border-radius:0.5rem;\r\n        height:40vh;\r\n        display:flex;\r\n        animation:show 0.3s linear;\r\n        flex-direction:column;\r\n        text-align:center;\r\n        .title{\r\n            display:flex;\r\n            flex-direction:row;\r\n            justify-content:center;\r\n            align-items:center;\r\n            height:20%;\r\n            border-bottom:1px solid #f5f5f5;\r\n        }\r\n        .content{\r\n            display:flex;\r\n            flex-direction:column;\r\n            justify-content:center;\r\n            align-items:center;\r\n            height:60%;\r\n        }\r\n        .button-box{\r\n            height:20%;\r\n            display:flex;\r\n            flex-direction:row;\r\n            justify-content:center;\r\n            align-items:center;\r\n            &>*{\r\n                flex:1;\r\n                display:flex;\r\n                flex-direction:row;\r\n                justify-content:center;\r\n                align-items:center;\r\n                height:100%;\r\n                border-top:1px solid #f5f5f5;\r\n            }\r\n            .button-left{\r\n                color:#206386;\r\n                border-right:1px solid #f5f5f5;\r\n            }\r\n        }\r\n    }\r\n`\r\nexport { DialogStyle }","import React from 'react'\r\n// 导入style\r\nimport { DialogStyle } from './style'\r\nconst Dialog = (props) => {\r\n    const { open, title, needCheck = false, buttonDesc = ['确认', '取消'] } = props\r\n    const { onCancel, onConfirm, onExit } = props\r\n    return (\r\n        <DialogStyle onClick={() => {\r\n            if (onExit) onExit();\r\n        }} style={{ display: open ? 'flex' : 'none' }}>\r\n            <div className=\"contain\">\r\n                <div className=\"title\">{title}</div>\r\n                <div className=\"content\">\r\n                    {props.children}\r\n                </div>\r\n                {/**盒子 */}\r\n                <div className=\"button-box\" style={{ display: needCheck ? 'flex' : 'none' }}>\r\n                    <span className=\"button-left\" onClick={(event) => {\r\n                        // 阻止冒泡\r\n                        event.stopPropagation();\r\n                        if (onConfirm) onConfirm();\r\n                    }}>{buttonDesc[0]}</span>\r\n                    <span className=\"button-right\" onClick={(event) => {\r\n                        // 阻止冒泡\r\n                        event.stopPropagation();\r\n                        if (onCancel) onCancel();\r\n                    }}>{buttonDesc[1]}</span>\r\n                </div>\r\n            </div>\r\n        </DialogStyle>\r\n    )\r\n}\r\n\r\nexport default React.memo(Dialog) ","import React from 'react';\r\nimport styled, { keyframes } from 'styled-components';\r\nconst loading = keyframes`\r\n  0%, 100% {\r\n    transform: scale(0.0);\r\n  }\r\n  50% {\r\n    transform: scale(1.0);\r\n  }\r\n`\r\nconst LoadingWrapper = styled.div`\r\n    >div {\r\n      position: absolute;\r\n      top: 0; left: 0; right: 0; bottom: 0;\r\n      margin: auto;\r\n      width: 60px;\r\n      height: 60px;\r\n      opacity: 0.6;\r\n      border-radius: 50%;\r\n      background-color: #3498db;\r\n      animation: ${loading} 1.4s infinite ease-in;\r\n    }\r\n    >div:nth-child(2) {\r\n      animation-delay: -0.7s;\r\n    }\r\n`\r\n\r\nfunction Loading()  {\r\n  return (\r\n    <LoadingWrapper>\r\n      <div></div>\r\n      <div></div>\r\n    </LoadingWrapper>\r\n  );\r\n}\r\n \r\nexport default React.memo(Loading);","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport { CSSTransition } from 'react-transition-group'\r\nconst GlobalToast = styled.div`\r\n/* csstransiton动画 */\r\n.star {\r\n    display: inline-block;\r\n    margin-left: 0.5rem;\r\n    transform: scale(1.25);\r\n}\r\n\r\n.star-enter {\r\n    opacity: 0.01;\r\n    transform: translateY(300%);\r\n}\r\n\r\n.star-enter-active {\r\n    opacity: 1;\r\n    transform: translateY(0%);\r\n    transition: all 500ms ease-out;\r\n}\r\n\r\n.star-exit {\r\n    opacity: 1;\r\n    transform: translateY(0%);\r\n}\r\n\r\n.star-exit-active {\r\n    opacity: 0;\r\n    transform: translateY(-100%);\r\n    transition: all 500ms ease-in;\r\n}\r\nposition:fixed;\r\nbottom:5rem;\r\n`\r\nconst ToastStyle = styled.div`\r\n    width:70vw;\r\n    height:7vh;\r\n    text-align:center;\r\n    display:flex;\r\n    flex-direction:row;\r\n    justify-content:center;\r\n    align-items:center;\r\n    text-align:center;\r\n    color:#fff;\r\n    border-radius:0.5rem;\r\n    background-color:rgba(0,0,0,0.4);\r\n` \r\nconst Toast = (props) => {\r\n    const { content, open } = props;\r\n\r\n    return (\r\n        <GlobalToast>\r\n            <CSSTransition in={open}\r\n                timeout={500}\r\n                key='toast'\r\n                classNames=\"star\"\r\n                unmountOnExit={true}\r\n            >\r\n                <ToastStyle >{content}</ToastStyle>\r\n            </CSSTransition>\r\n        </GlobalToast>\r\n    )\r\n}\r\nexport default React.memo(Toast)","import React, { useState, useEffect } from 'react'\r\nimport { connect } from 'react-redux'\r\n// 导入store相关\r\nimport { actionCreator } from './store'\r\n// 导入CSS\r\nimport { LoginStyle } from './style'\r\n// 导入组件\r\nimport Icon from '../../components/context/Icon'\r\nimport LoginInput from '../../components/common/LoginInput'\r\nimport Dialog from '../../components/common/Dialog'\r\nimport Loading from '../../components/common/loading'\r\nimport Toast from '../../components/common/Toast'\r\nimport { getInfo } from '../../api/LoginRequest'\r\nfunction Login(props) {\r\n    // 登录用户名和密码\r\n    const { loading, error, history, register, token } = props\r\n    const { getLogin, changeToken, changeLoading, changeIsError, registerUser, changeRegister } = props;\r\n    const [password, setPassword] = useState('');\r\n    const [username, setUsername] = useState('');\r\n    const [isLoginStatus, setIsLoginStatus] = useState(true);\r\n    const [confirmPassword, setConfirmPassword] = useState('');\r\n    const [toast, setToast] = useState(false);\r\n    const [content, setContent] = useState('');\r\n    // 设置错误提示事件\r\n    const changeToast = (content) => {\r\n        setContent(content)\r\n        setToast(true)\r\n        // 两秒后消失\r\n        setTimeout(() => {\r\n            setToast(false)\r\n        }, 2000);\r\n    }\r\n    // 从本地获取token\r\n    useEffect(() => {\r\n        const localToken = localStorage.getItem('token');\r\n        if (localToken) {\r\n            changeToken(localToken);\r\n        }\r\n    }, [changeToken])\r\n\r\n    // 登录成功的逻辑处理\r\n    useEffect(() => {\r\n        if (token) {\r\n            // 存进本地\r\n            getInfo('', token).then(() => {\r\n                localStorage.setItem('token', token)\r\n                history.push('/home/message')\r\n            }).catch((err) => {\r\n                console.log(err)\r\n            })\r\n        }\r\n    }, [token, history])\r\n    // 中途出错的逻辑处理\r\n    useEffect(() => {\r\n        if (error) {\r\n            changeToast(isLoginStatus ? '密码或用户名错误' : '用户名已存在')\r\n            // 重置\r\n            changeIsError(false)\r\n        }\r\n    }, [error, changeIsError, isLoginStatus])\r\n    // 监听注册成功\r\n    useEffect(() => {\r\n        if (register) {\r\n            changeToast('恭喜你！ 注册成功！')\r\n            changeRegister(false);\r\n            setTimeout(() => {\r\n                setIsLoginStatus(true);\r\n            }, 500);\r\n        }\r\n    }, [register, changeRegister])\r\n\r\n\r\n    return (\r\n        <LoginStyle>\r\n            {/**标志 */}\r\n            <div className=\"icon-box\">\r\n                <a href=\"/\"><Icon xlinkHref='#icon-crew_react-copy'></Icon></a>\r\n                <span>MyQQ</span>\r\n            </div>\r\n\r\n            {/**登录输入框 */}\r\n            {\r\n                isLoginStatus && (<div className=\"input-box\">\r\n                    <LoginInput xlinkHref='#icon-morentouxiang' type=\"text\" value={username} handleInput={(e) => {\r\n                        setUsername(e)\r\n                    }} placeHolder=\"请输入用户名\" />\r\n                    <LoginInput xlinkHref='#icon-mima' type=\"password\" value={password} placeHolder=\"请输入密码\" handleInput={(e) => {\r\n                        setPassword(e)\r\n                    }} />\r\n                </div>)\r\n            }\r\n\r\n            {/**注册输入框 */}\r\n            {\r\n                !isLoginStatus && (<div className=\"input-box\">\r\n                    <LoginInput xlinkHref='#icon-morentouxiang' type=\"text\" value={username} handleInput={(e) => {\r\n                        setUsername(e)\r\n                    }} placeHolder=\"请输入用户名\" />\r\n                    <LoginInput xlinkHref='#icon-mima' type=\"password\" value={password} placeHolder=\"请输入密码\" handleInput={(e) => {\r\n                        setPassword(e)\r\n                    }} />\r\n                    <LoginInput xlinkHref={confirmPassword === \"\" ? \"#icon-crew_react\" : confirmPassword === password ? '#icon-querenmima' : '#icon-cuowu'} type=\"password\" value={confirmPassword} placeHolder=\"确认密码\" handleInput={(e) => {\r\n                        setConfirmPassword(e)\r\n                    }} />\r\n                </div>)\r\n            }\r\n\r\n            {/**控制按钮 */}\r\n            <div className='button-go' style={{ animation: loading ? \"circle 1s linear infinite\" : \"\" }} onClick={() => {\r\n                if (isLoginStatus) {\r\n                    // 登录 通过redux获取数据\r\n                    if (username && password) {\r\n                        getLogin(username, password)\r\n                        changeLoading(true)\r\n                    } else {\r\n                        changeToast('信息不足，请完成填写')\r\n                    }\r\n                } else {\r\n                    // 注册\r\n                    if (username && password && password === confirmPassword) {\r\n                        registerUser(username, password)\r\n                        changeLoading(true);\r\n                    } else {\r\n                        changeToast('请完成填写')\r\n                    }\r\n                }\r\n            }} >\r\n                <Icon xlinkHref='#icon-denglu' size=\"1.3rem\" />\r\n            </div>\r\n\r\n            {/**切换按钮 */}\r\n            <span style={{ marginTop: '1rem', fontSize: \"0.8rem\", textDecoration: 'underline', color: '#3F91CF' }} onClick={() => {\r\n                setIsLoginStatus(!isLoginStatus)\r\n            }}\r\n            >{isLoginStatus ? '点我注册' : '切换登录'}</span>\r\n\r\n            {/**加载提示组件 */}\r\n            <Dialog open={props.loading} title='加载中...'  >\r\n                <Loading />\r\n            </Dialog>\r\n\r\n            {/** 轻提示组件*/}\r\n            <Toast open={toast} content={content}></Toast>\r\n        </LoginStyle>\r\n\r\n    )\r\n}\r\n\r\n// 配置redux映射关系\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        token: state.LoginReducer.token,\r\n        userInfo: state.LoginReducer.userInfo,\r\n        loading: state.LoginReducer.loading,\r\n        isLogin: state.LoginReducer.isLogin,\r\n        error: state.LoginReducer.isError,\r\n        register: state.LoginReducer.isRegister\r\n    }\r\n}\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        getLogin: (username, password) => {\r\n            dispatch(actionCreator.getLogin(username, password))\r\n        },\r\n        getInfo: (username) => {\r\n            dispatch(actionCreator.getUserInfo(username))\r\n        },\r\n        changeToken: (token) => {\r\n            dispatch(actionCreator.tokenChange(token))\r\n        },\r\n        changeLoading: (status) => {\r\n            dispatch(actionCreator.changeLoadingStatus(status))\r\n        },\r\n        changeIsLogin: (status) => {\r\n            dispatch(actionCreator.changeIsLoginStatus(status))\r\n        },\r\n        changeIsError: (status) => {\r\n            dispatch(actionCreator.changeErrorStatus(status))\r\n        },\r\n        registerUser: (username, password) => {\r\n            dispatch(actionCreator.getRegister(username, password))\r\n        },\r\n        changeRegister: (status) => {\r\n            dispatch(actionCreator.changeRegisterStatus(status))\r\n        }\r\n    }\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(React.memo(Login)) ","import styled from 'styled-components'\r\nconst NavBar = styled.div`\r\n    position:fixed;\r\n    display:flex;\r\n    bottom:0;\r\n    flex-direction:row;\r\n    justify-content:center;\r\n    align-items:center;\r\n    text-align:center;\r\n    height:4rem;\r\n    background-color:rgba(245,245,245,0.8);\r\n    width:100%;\r\n    &>*{\r\n        flex:1;\r\n        text-decoration:none;\r\n        &:hover{\r\n            animation:scale 0.2s linear;\r\n        }\r\n    }\r\n    @keyframes scale{\r\n        0% {\r\n            transform:scale(1);\r\n        }\r\n        50%{\r\n            transform:scale(0.5);\r\n        }\r\n        100%{\r\n            transform:scale(1);\r\n        }\r\n    }\r\n`\r\nexport { NavBar }","import React from 'react'\r\nconst Avator = (props) => {\r\n    const { imgSrc, size } = props;\r\n    return (\r\n        <div style={{ width: (size || '4') + 'rem', height: (size || '4') + 'rem' }}>\r\n            <img style={{ width: \"100%\", height: \"100%\", borderRadius: '50%' }} src={imgSrc} alt=\"\" />\r\n        </div>\r\n    )\r\n}\r\nexport default React.memo(Avator)","import styled from 'styled-components'\r\nconst UserContain = styled.div`\r\ndisplay:flex;\r\nflex-direction:row;\r\njustify-content:center;\r\nalign-items:center;\r\n`;\r\nconst MessageContain = styled.div`\r\ndisplay:flex;\r\nflex-direction:column;\r\njustify-content:center;\r\ntext-align:left;\r\n.title{\r\n    font-size:1.3rem;\r\n    font-weight:700;\r\n}\r\n.number{\r\n    font-size:0.9rem;\r\n    margin-top:0.2rem;\r\n    span{\r\n        color:#888888;\r\n        font-size:0.5rem;\r\n    }\r\n}\r\n`\r\nexport {\r\n    MessageContain,\r\n    UserContain\r\n}","import React from 'react'\r\n// 导入组件\r\nimport Avator from '../../common/Avator'\r\nimport { MessageContain, UserContain } from './style'\r\nconst UserDetail = (props) => {\r\n    const { nickName, userName, imgSrc } = props;\r\n    return (\r\n        <UserContain>\r\n            <div style={{ width: '15%', margin: '5% 2.5%' }}>\r\n                <Avator imgSrc={imgSrc}></Avator>\r\n            </div>\r\n            <MessageContain style={{ width: '80%' }}>\r\n                <div className=\"title\">{nickName}</div>\r\n                <div className='number'>ID：<span>{userName}</span></div>\r\n            </MessageContain>\r\n        </UserContain>\r\n    )\r\n}\r\nexport default React.memo(UserDetail)","import React from 'react'\r\nimport Icon from '../Icon'\r\nimport styled from 'styled-components'\r\nconst MessageContain = styled.div`\r\n    width:90%;\r\n    margin:0% 2.5%;\r\n    display:flex;\r\n    flex-direction:row;\r\n    justify-content:space-between;\r\n    align-items:center;\r\n    background-color:#fff;\r\n    padding:3%;\r\n    border-bottom:#f5f5f5 solid 1px;\r\n    &>*{\r\n        margin-right:2.5%;\r\n        display:flex;\r\n        flex-direction:row;\r\n        align-items:center;\r\n    }\r\n    .content{\r\n        font-size:0.9rem;\r\n        color:#888;\r\n        overflow:hidden;\r\n        white-space: nowrap;\r\n        text-overflow: ellipsis;\r\n    }\r\n`\r\nconst MessageBox = (props) => {\r\n    const { title, xlinkHref } = props;\r\n    return (\r\n        <MessageContain>\r\n            <span>\r\n                <Icon xlinkHref={xlinkHref} size=\"1.5rem\"></Icon>\r\n                <span >{title}:</span>\r\n            </span>\r\n            <span className='content'>{props.children}</span>\r\n        </MessageContain>\r\n    )\r\n}\r\nexport default React.memo(MessageBox)","import React from 'react'\r\nimport styled from 'styled-components';\r\nconst NavStyle = styled.div`\r\n    display:flex;\r\n    flex-direction:row;\r\n    width:100vw;\r\n    height:3.5rem;\r\n    background:#fbc531;\r\n    align-items:center;\r\n    font-size:1.2rem;\r\n    font-family: STSong STHeiti STHeiti Light [STXihei];\r\n    &>*{\r\n        flex:1;\r\n    }\r\n    /* 规定第2个为title */\r\n    &>*:nth-child(1){\r\n        text-align:left;\r\n    }\r\n    &>*:nth-child(2){\r\n        text-align:center;\r\n    }\r\n    &>*:nth-child(3){\r\n        text-align:right;\r\n    }\r\n`\r\nconst Nav = (props) => {\r\n    return (\r\n        <NavStyle>\r\n            {props.children}\r\n        </NavStyle>\r\n    )\r\n}\r\nexport default React.memo(Nav);","import React from 'react'\r\nimport './style.css'\r\nimport { CSSTransition } from 'react-transition-group'\r\nconst Transition = props => {\r\n    const { show } = props;\r\n    return (\r\n        <CSSTransition\r\n            in={show}\r\n            timeout={300}\r\n            classNames='showBox'\r\n            unmountOnExit={true}\r\n        >\r\n            <div style={{ position: \"absolute\", left: 0, right: 0, top: 0, bottom: 0, overflow: 'scroll', zIndex: 3, backgroundColor: '#fff' }}>\r\n                {props.children}\r\n            </div>\r\n        </CSSTransition>\r\n    )\r\n}\r\nexport default React.memo(Transition)","import React from 'react'\r\nimport styled from 'styled-components'\r\nconst EditStyle = styled.div`\r\n    display:flex;\r\n    align-items:center;\r\n    padding:1rem 0 ; \r\n    font-size:1rem;\r\n    background-color:#fff;\r\n    .title{\r\n        width:20%;\r\n        text-align:center;\r\n    }\r\n    .children{\r\n        width:80%;\r\n        input[type=\"text\"]{\r\n            width:90%;\r\n        }\r\n        input[type=\"date\"]{\r\n            width:90%;\r\n        }\r\n        input{\r\n            border:none;\r\n            font-size:0.9rem;\r\n            padding:0.2rem 0;\r\n        }\r\n    }\r\n`\r\nconst EditDetail = (props) => {\r\n    const { title } = props;\r\n    return (\r\n        <EditStyle>\r\n            <span className='title'>{title}</span>\r\n            <span className='children'>{props.children}</span>\r\n        </EditStyle>\r\n    )\r\n}\r\nexport default React.memo(EditDetail)","import { instance } from './instance'\r\n// 从后端获取七牛云接口token\r\nexport const getQiniuToken = (token) => {\r\n    return instance.get('/qiniutoken', {\r\n        headers: {\r\n            Authorization: 'Bearer ' + token\r\n        }\r\n    })\r\n}\r\n\r\nconst baseURL = 'https://img.xgpax.top/'\r\nconst apiURL = 'http://upload-z2.qiniu.com'\r\n// selfToken:访问后端 file：要上传的文件（单个） 返回有效URL\r\nexport const file2qiniuCloud = async (selfToken, file) => {\r\n    const data = await getQiniuToken(selfToken)\r\n    const { key, token } = data.data;\r\n    console.log(key, token)\r\n    // 构造表单\r\n    const formData = new FormData();\r\n    formData.append('token', token);\r\n    formData.append('key', key); // key：文件名，可以不传，如果不传七牛则会自动生成随机文件名 hash\r\n    formData.append('file', file);\r\n    // 上传\r\n    const response = await instance.post(apiURL, formData);\r\n    return baseURL + response.key\r\n}\r\n\r\n// 获取zoom数据\r\nexport const getZoomByPage = (token, page) => {\r\n    return instance.get('/zoom/getData', {\r\n        headers: {\r\n            Authorization: 'Bearer ' + token\r\n        },\r\n        params: {\r\n            page\r\n        }\r\n    })\r\n}\r\n// 发布zoom\r\nexport const pubZoom = (token, { contentText, contentImgSrc, userID }) => {\r\n    return instance({\r\n        method: 'POST',\r\n        url: '/zoom/addZoom',\r\n        headers: {\r\n            Authorization: 'Bearer ' + token\r\n        },\r\n        data: {\r\n            contentText,\r\n            contentImgSrc,\r\n            userID\r\n        }\r\n    })\r\n}","// 设置派发\r\n// 请求自己用户信息数据\r\nexport const getDetail = (socket) => {\r\n    if (socket) {\r\n        socket.emit('getDetail', {});\r\n    }\r\n}\r\n\r\n// 信息编辑完成\r\nexport const editUserDetail = (socket, userInfo) => {\r\n    if (socket) {\r\n        socket.emit('editUserDetail', userInfo)\r\n    }\r\n}\r\n\r\n// 获取好友列表\r\nexport const getFriendShip = (socket) => {\r\n    if (socket) {\r\n        socket.emit('getFriendList', {});\r\n    }\r\n}\r\n\r\n// 搜索好友\r\nexport const getSearchFriend = (socket, keyword) => {\r\n    if (socket) {\r\n        socket.emit('getSearchFriend', {\r\n            keyword\r\n        })\r\n    }\r\n}\r\n\r\n// 发起添加\r\nexport const getAddFriend = (socket, target) => {\r\n    if (socket) {\r\n        socket.emit('getAddFriend', {\r\n            target\r\n        })\r\n    }\r\n}\r\n// 发起同意好友申请\r\nexport const getAgreeFriend = (socket, target) => {\r\n    if (socket) {\r\n        socket.emit('getAgreeFriend', {\r\n            target\r\n        })\r\n    }\r\n}\r\n// 发起删除好友\r\nexport const getDeleteFriend = (socket, target) => {\r\n    if (socket) {\r\n        socket.emit('getDeleteFriend', {\r\n            target\r\n        })\r\n    }\r\n}\r\n\r\n// 聊天相关\r\n// 根据对方target获取详细 userIDs必须是一个数组\r\nexport const getUserDetailByUserIDs = (socket, userIDs, type) => {\r\n    if (socket) {\r\n        socket.emit('getUserDetailByUserIDs', {\r\n            list: userIDs,\r\n            type\r\n        })\r\n    }\r\n}\r\n\r\n// 发送消息\r\nexport const chat2target = (socket, target, message) => {\r\n    // 针对message进行base64编码\r\n    message = {\r\n        ...message,\r\n        // 针对文字进行编码\r\n        value: message.type === 1 ? window.btoa(window.encodeURIComponent(message.value)) : message.value\r\n    }\r\n    if (socket) {\r\n        socket.emit('chat2target', {\r\n            target,\r\n            message\r\n        })\r\n    }\r\n}\r\n// 获取聊天记录\r\nexport const getTargetChatMessage = (socket, target) => {\r\n    if (socket) {\r\n        socket.emit('getTargetChatMessage', {\r\n            target\r\n        })\r\n    }\r\n}\r\n","import React, { useState } from 'react'\r\n// 导入redux\r\nimport { connect } from 'react-redux'\r\n// 导入组件\r\nimport Nav from '../../components/common/Nav'\r\nimport Icon from '../../components/context/Icon'\r\nimport Avator from '../../components/common/Avator'\r\nimport EditDetail from '../../components/context/EditDetail'\r\nimport Dialog from '../../components/common/Dialog'\r\nimport Loading from '../../components/common/loading'\r\n// 导入dayjs\r\nimport dayjs from 'dayjs'\r\n// 导入数据处理的部分\r\nimport { file2qiniuCloud } from '../../api/HomeRequest'\r\n// 导入socket操作方法\r\nimport { editUserDetail } from '../../store/socketHandle/action'\r\nconst EditPage = props => {\r\n    const { onExit } = props;\r\n    const { socket } = props;\r\n    // 用state级别的userInfo进行数据绑定和操作\r\n    const [confirm, setConfirm] = useState(false)\r\n    const [isLoading, setIsLoading] = useState(false)\r\n    const [userInfo, setUserInfo] = useState(props.userInfo)\r\n    return (\r\n\r\n        <div style={{ width: \"100vw\", height: \"100vh\", backgroundColor: \"#f5f5f5\" }}>\r\n            <Nav>\r\n                <span style={{ position: \"relative\", left: '0.5rem' }} onClick={() => {\r\n                    onExit();\r\n                }}>\r\n                    <Icon size={'1.5rem'} xlinkHref=\"#icon-houtui\"></Icon>\r\n                </span>\r\n                <span>编辑</span>\r\n                <span style={{ position: \"relative\", right: '0.5rem' }} onClick={() => {\r\n                    // 编辑完成\r\n                    setConfirm(true)\r\n                }}>\r\n                    <Icon size={'1.5rem'} xlinkHref=\"#icon-wanchengchenggong\"></Icon>\r\n                </span>\r\n            </Nav>\r\n            {/**编辑框 */}\r\n            <EditDetail title=\"头像\">\r\n                <input type=\"file\" \r\n                    style={\r\n                        {\r\n                            opacity: 0,\r\n                            position: \"absolute\",\r\n                            top: \"4rem\",\r\n                            height: \"4rem\",\r\n                            width: \"3rem\"\r\n                        }\r\n                    }\r\n                    accept=\"image/*\"\r\n                    onChange={async (event) => {\r\n                        const file = event.target.files[0]\r\n                        // 本地构造测试\r\n                        // const src = window.URL.createObjectURL(event.target.files[0])\r\n                        // 文件上传\r\n                        const url = await file2qiniuCloud(props.token, file)\r\n                        setUserInfo({\r\n                            ...userInfo,\r\n                            avator: url\r\n                        })\r\n                    }}\r\n                />\r\n                <Avator size={4} imgSrc={userInfo.avator}></Avator>\r\n            </EditDetail>\r\n            <EditDetail title=\"个签\">\r\n                <input type=\"text\" maxLength={20} placeholder={\"最大长度为20噢\"} value={userInfo.signature} onChange={(event) => {\r\n                    setUserInfo({\r\n                        ...userInfo,\r\n                        signature: event.target.value\r\n                    })\r\n                }} />\r\n            </EditDetail>\r\n            <br />\r\n            <EditDetail title=\"昵称\">\r\n                <input type=\"text\" maxLength={10} placeholder={\"最大长度为10噢\"} value={userInfo.nickName} onChange={(event) => {\r\n                    setUserInfo({\r\n                        ...userInfo,\r\n                        nickName: event.target.value\r\n                    })\r\n                }} />\r\n            </EditDetail>\r\n            <EditDetail title=\"性别\">\r\n                <div>\r\n                    <input type=\"radio\" name=\"sex\" value=\"1\" checked={String(userInfo.gender) === \"1\"} onChange={(event) => {\r\n                        setUserInfo({\r\n                            ...userInfo,\r\n                            gender: event.target.value\r\n                        })\r\n                    }} /><Icon size={'1.7rem'} xlinkHref={'#icon-xingbie'}></Icon> <br />\r\n                    <input type=\"radio\" name=\"sex\" value=\"0\" checked={String(userInfo.gender) === \"0\"} onChange={(event) => {\r\n                        setUserInfo({\r\n                            ...userInfo,\r\n                            gender: event.target.value\r\n                        })\r\n                    }} /><Icon size={'1.7rem'} xlinkHref={'#icon-nv'}></Icon>\r\n                </div>\r\n            </EditDetail>\r\n            <EditDetail title=\"生日\">\r\n                <input type=\"date\" value={dayjs(userInfo.birthday).format('YYYY-MM-DD')} onChange={(event) => {\r\n                    setUserInfo({\r\n                        ...userInfo,\r\n                        birthday: event.target.value\r\n                    })\r\n                }} />\r\n            </EditDetail>\r\n\r\n            {/**提示框 */}\r\n            <Dialog needCheck={!isLoading} open={confirm} title={isLoading ? \"加载中\" : \"警告\"}\r\n                onConfirm={() => {\r\n                    editUserDetail(socket, userInfo)\r\n                    setIsLoading(true)\r\n                    setTimeout(() => {\r\n                        setConfirm(false)\r\n                        setIsLoading(false)\r\n                        onExit();\r\n                    }, 2000);\r\n                }}\r\n                onCancel={() => {\r\n                    setConfirm(false)\r\n                }}\r\n            >\r\n                {isLoading ? <Loading /> : (<span>你确定要修改吗？</span>)}\r\n            </Dialog>\r\n        </div>\r\n    )\r\n}\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        socket: state.HomeReducer.socket,\r\n        userInfo: state.HomeReducer.userInfo,\r\n        token: state.LoginReducer.token\r\n    }\r\n}\r\nexport default connect(mapStateToProps)(React.memo(EditPage))","import { actionType } from './index';\r\nconst changeTarget = data => ({\r\n    type: actionType.TARGET,\r\n    data\r\n})\r\nconst changeTargetDetail = data => ({\r\n    type: actionType.TARGETDETAIL,\r\n    data\r\n})\r\nconst changeMessageList = data => ({\r\n    type: actionType.MESSAGELIST,\r\n    data\r\n})\r\nconst changeAddMessageList = data => ({\r\n    type: actionType.INSERTONEROWMESSAGELIST,\r\n    data\r\n})\r\nconst changeUnReadMessageList = data => ({\r\n    type: actionType.UNREADMESSAGELIST,\r\n    data\r\n})\r\nconst changeFriendList = data => ({\r\n    type: actionType.FRIENDLIST,\r\n    data\r\n})\r\nconst changeMessage = data => ({\r\n    type: actionType.CHANGELASTMESSAGE,\r\n    data\r\n})\r\nconst changeCount = data => ({\r\n    type: actionType.CHANGECOUNT,\r\n    data\r\n})\r\n// 设置target\r\nexport const targetChange = target => {\r\n    return dispatch => {\r\n        dispatch(changeTarget(target))\r\n    }\r\n}\r\n\r\n// 设置\r\nexport const targetDetailChange = targetDetail => {\r\n    return dispatch => {\r\n        dispatch(changeTargetDetail(targetDetail))\r\n    }\r\n}\r\n\r\nexport const messageListChange = messageList => {\r\n    return dispatch => {\r\n        dispatch(changeMessageList(messageList))\r\n    }\r\n}\r\n\r\n// 添加一条message\r\nexport const addMessageList = message => {\r\n    return dispatch => {\r\n        dispatch(changeAddMessageList(message))\r\n    }\r\n}\r\n// 修改unreadmessagelist\r\nexport const unReadMessageListChange = unReadMessageList => {\r\n    return dispatch => {\r\n        dispatch(changeUnReadMessageList(unReadMessageList))\r\n    }\r\n}\r\n// 修改好友列表\r\nexport const friendListChange = friendList => {\r\n    return dispatch => {\r\n        dispatch(changeFriendList(friendList))\r\n    }\r\n}\r\n\r\n// 修改count data:{ count, target }\r\nexport const countChange = (countData) => {\r\n    return dispatch => {\r\n        dispatch(changeCount(countData))\r\n    }\r\n}\r\n\r\nexport const messageChange = (messageData) => {\r\n    return dispatch => {\r\n        dispatch(changeMessage(messageData))\r\n    }\r\n}","// 对方userID\r\nexport const TARGET = 'TARGET'\r\n// 对方信息\r\nexport const TARGETDETAIL = 'TARGETDETAIL'\r\n// 聊天记录\r\nexport const MESSAGELIST = 'MESSAGELIST'\r\n// 插入单条messagelist\r\nexport const INSERTONEROWMESSAGELIST = 'INSERTONEROWMESSAGELIST'\r\n// 收到的未读消息列表\r\nexport const UNREADMESSAGELIST = 'UNREADMESSAGELIST'\r\n// 朋友列表\r\nexport const FRIENDLIST = 'FRIENDLIST'\r\n// 修改unReadMessageList的某一条消息的count\r\nexport const CHANGECOUNT = 'CHANGECOUNT'\r\n// 修改message\r\nexport const CHANGELASTMESSAGE = 'CHANGELASTMESSAGE'","// 在此处编写业务逻辑并导出\r\nimport { produce } from 'immer'\r\n// 导入动作\r\nimport { actionType } from './index'\r\n// 初始值\r\nconst initialState = {\r\n    // 对方userID\r\n    target: '',\r\n    targetDetail: {\r\n        userID: '',\r\n        avator: '',\r\n        signature: '',\r\n        nickName: '',\r\n        birthday: '',\r\n        gender: 1\r\n    },\r\n    messageList: [],\r\n    unReadMessageList: {},\r\n    friendList: []\r\n}\r\n// 编写reducer\r\nconst ChatReducer = (state = initialState, action) => {\r\n    return produce(state, (draft) => {\r\n        switch (action.type) {\r\n            case actionType.TARGET:\r\n                draft.target = action.data;\r\n                break;\r\n            case actionType.TARGETDETAIL:\r\n                draft.targetDetail = action.data;\r\n                break;\r\n            case actionType.MESSAGELIST:\r\n                draft.messageList = action.data;\r\n                break;\r\n            case actionType.INSERTONEROWMESSAGELIST:\r\n                draft.messageList.push(action.data)\r\n                break;\r\n            case actionType.UNREADMESSAGELIST:\r\n                draft.unReadMessageList = action.data;\r\n                break;\r\n            case actionType.CHANGECOUNT:\r\n                {\r\n                    const { target, count } = action.data;\r\n                    draft.unReadMessageList[target].count = count;\r\n                }\r\n                break;\r\n            case actionType.CHANGELASTMESSAGE:\r\n                {\r\n                    const { target, lastMessage, messageType } = action.data;\r\n                    draft.unReadMessageList[target].lastMessage = lastMessage;\r\n                    draft.unReadMessageList[target].messageType = messageType;\r\n                    draft.unReadMessageList[target].messageValue = messageType;\r\n                }\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    })\r\n}\r\nexport { ChatReducer }","import React, { useEffect, useState } from 'react'\r\nimport { withRouter } from 'react-router-dom'\r\n\r\n// 组件\r\nimport UserDetail from '../../components/context/userDetail'\r\nimport MessageBox from '../../components/context/messageBox'\r\nimport Icon from '../../components/context/Icon'\r\nimport Nav from '../../components/common/Nav'\r\nimport Transition from '../../components/common/Transition'\r\nimport EditPage from '../EditPage'\r\n// styled\r\nimport styled from 'styled-components'\r\nimport { connect } from 'react-redux'\r\nimport { getDetail } from '../../store/socketHandle/action'\r\nimport { actionCreator as LoginActionCreator } from '../Login/store'\r\nimport { actionCreator as ChatActionCreator } from '../Chat/store'\r\nconst BottomButton = styled.div`\r\n   display: flex;\r\n   justify-content: center;\r\n   align-items: center;\r\n   margin-top: 10vh;\r\n   color: #0078D7;\r\n   text-decoration:underline;\r\n   font-size:1.1rem;\r\n`\r\nconst Config = (props) => {\r\n    const [show, setShow] = useState(false)\r\n    const { socket } = props;\r\n    const { userInfo } = props;\r\n    // history\r\n    const { history } = props;\r\n    const { changeToken, clearUnReadMessageList } = props;\r\n    // 连接后就马上请求信息\r\n    useEffect(() => {\r\n        if (socket) {\r\n            getDetail(socket)\r\n        }\r\n    }, [socket])\r\n\r\n\r\n\r\n    return (\r\n        <div>\r\n            {/**导航栏 */}\r\n            <Nav>\r\n                <span onClick={() => {\r\n                    localStorage.removeItem('token')\r\n                    // 清除token\r\n                    changeToken('')\r\n                    // 清除unreadlist\r\n                    clearUnReadMessageList();\r\n                    history.push('/')\r\n                    // 重载页面\r\n                    setTimeout(() => {\r\n                        window.location.reload()\r\n                    }, 500);\r\n                }}> <Icon size={'1.5rem'} xlinkHref=\"#icon-houtui\"></Icon></span>\r\n                <span>设置</span>\r\n                <span></span>\r\n            </Nav>\r\n            {/** 信息显示 */}\r\n            <div>\r\n                {/**头像区域 */}\r\n                <UserDetail nickName={userInfo.nickName} imgSrc={userInfo.avator} userName={userInfo.userID}></UserDetail>\r\n                {/**信息显示区域 */}\r\n                <MessageBox title=\"个性签名\" xlinkHref='#icon-qianming1' >\r\n                    <span>{userInfo.signature}</span>\r\n                </MessageBox>\r\n                <MessageBox title=\"性别\" xlinkHref=\"#icon-xingbie1\"  >\r\n                    <Icon size={'1.5rem'} xlinkHref={String(userInfo.gender) === \"0\" ? '#icon-nv' : '#icon-xingbie'}></Icon>\r\n                </MessageBox>\r\n                <MessageBox title=\"生日\" xlinkHref='#icon-shengri' >\r\n                    <span>{new Date(userInfo.birthday).toLocaleDateString()}</span>\r\n                </MessageBox>\r\n                {/** bottom设置修改资料框的跳出*/}\r\n                <BottomButton>\r\n                    <span onClick={() => {\r\n                        setShow(true)\r\n                    }}>修改资料</span>\r\n                </BottomButton>\r\n            </div>\r\n\r\n            {/**信息设置 */}\r\n            <Transition show={show}>\r\n                <EditPage onExit={() => {\r\n                    setShow(false)\r\n                }}></EditPage>\r\n            </Transition>\r\n        </div>\r\n    )\r\n}\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        socket: state.HomeReducer.socket,\r\n        userInfo: state.HomeReducer.userInfo\r\n    }\r\n}\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        changeToken: (token) => {\r\n            dispatch(LoginActionCreator.tokenChange(token))\r\n        },\r\n        clearUnReadMessageList: () => {\r\n            dispatch(ChatActionCreator.unReadMessageListChange({}))\r\n        }\r\n    }\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(React.memo(withRouter(Config))) ","import { actionType } from './index'\r\n// 连接\r\nimport { getSocket } from '../../../api/GetSocket'\r\n\r\nconst changeSocket = (data) => (\r\n    {\r\n        type: actionType.SOCKET,\r\n        data\r\n    }\r\n)\r\nconst changeUserInfo = data => (\r\n    {\r\n        type: actionType.USERINFO,\r\n        data\r\n    }\r\n)\r\n\r\nconst changeFriendList = data => (\r\n    {\r\n        type: actionType.FRIENDLIST,\r\n        data\r\n    }\r\n)\r\nconst changeSearchFriendList = data => (\r\n    {\r\n        type: actionType.SEARCHFRIENDLIST,\r\n        data\r\n    }\r\n)\r\n// 导出action操作方法\r\n\r\n// 根据token设置socket\r\nexport const socketConnect = (token) => {\r\n    return dispatch => {\r\n        // 初始化socket对象\r\n        const socket = getSocket(token)\r\n        dispatch(changeSocket(socket))\r\n    }\r\n}\r\n// 设置userInfo\r\nexport const userInfoChange = userInfo => {\r\n    return dispatch => {\r\n        // userInfo传入就是最后的结果 \r\n        dispatch(changeUserInfo(userInfo))\r\n    }\r\n}\r\n// 设置朋友列表\r\nexport const friendListChange = friendList => {\r\n    return (dispatch, state) => {\r\n        console.log(dispatch)\r\n        console.log(state())\r\n        dispatch(changeFriendList(friendList))\r\n    }\r\n}\r\n// 设置搜索朋友列表\r\nexport const searchFriendListChange = searchFriendList => {\r\n    return dispatch => {\r\n        dispatch(changeSearchFriendList(searchFriendList))\r\n    }\r\n}","// 执行后返回已经连接的socket对象\r\n// import { io } from 'socket.io-client'\r\nconst getSocket = (token) => {\r\n    console.log(token)\r\n    // 使用全局的io import io 会造成无限循环请求 无法使用，存疑\r\n    return window.io(`http://localhost:7001?token=${token}`)\r\n    // return window.io(`http://192.168.1.104:7001?token=${token}`)\r\n    // return window.io(`http://10.116.205.130:7001?token=${token}`,)\r\n    // return io(`http://localhost:7001?token=${token}`)\r\n}\r\nexport {\r\n    getSocket\r\n}","// socket设置的信号\r\nexport const SOCKET = 'SOCKET'\r\n// 用户信息\r\nexport const USERINFO = 'USERINFO'\r\n// 朋友列表\r\nexport const FRIENDLIST = 'FRIENDLIST'\r\n// 搜索列表\r\nexport const SEARCHFRIENDLIST = 'SEARCHFRIENDLIST'","// 在此处编写业务逻辑并导出\r\nimport { produce } from 'immer'\r\n// 导入动作\r\nimport { actionType } from './index'\r\n// 初始值\r\nconst initialState = {\r\n    //socket\r\n    socket: null,\r\n    // user信息\r\n    userInfo: {\r\n        avator: \"https://xgpax.top/wp-content/uploads/2020/11/defaultAvator.png\",\r\n        birthday: '',\r\n        gender: 1,\r\n        nickName: '',\r\n        signature: '',\r\n        userID: ''\r\n    },\r\n    // searchFriendList\r\n    friendList: {\r\n        added:[],\r\n        adding:[]\r\n    },\r\n    searchFriendList: []\r\n}\r\n// 编写reducer\r\nconst HomeReducer = (state = initialState, action) => {\r\n    return produce(state, (draft) => {\r\n        switch (action.type) {\r\n            case actionType.SOCKET:\r\n                draft.socket = action.data\r\n                break;\r\n            case actionType.USERINFO:\r\n                draft.userInfo = action.data\r\n                break;\r\n            case actionType.FRIENDLIST:\r\n                draft.friendList = action.data\r\n                break;\r\n            case actionType.SEARCHFRIENDLIST:\r\n                draft.searchFriendList = action.data\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    })\r\n}\r\nexport { HomeReducer }","import { combineReducers } from 'redux'\r\n// 导入并组合所有的reducer 然后导出\r\nimport { LoginReducer } from '../views/Login/store'\r\nimport { HomeReducer } from '../views/Home/store'\r\nimport { ChatReducer } from '../views/Chat/store'\r\n// 加载组件的全局\r\nexport default combineReducers({\r\n    LoginReducer,\r\n    HomeReducer,\r\n    ChatReducer\r\n})","import { createStore, applyMiddleware, compose } from 'redux'\r\n// 导入redux-thunk并使用\r\nimport thunk from 'redux-thunk'\r\n// 导入组合后的reducer\r\nimport reducer from './reducer'\r\n// 扩展开启\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n//创建store并导出\r\nexport default createStore(reducer, composeEnhancers(\r\n    applyMiddleware(thunk)\r\n))","// 导入相关数据的操作方法并以此进行设置redux\r\nimport { actionCreator as homeActionCreator } from '../../views/Home/store'\r\nimport { actionCreator as chatActionCreator } from '../../views/Chat/store'\r\n// 导入store以应用dispatch\r\nimport store from '../index'\r\n// 导入网络请求方法\r\nimport { getInfoByUserID } from '../../api/LoginRequest';\r\nconst dispatch = store.dispatch;\r\n// 在这里获取store状态\r\n\r\n// socket必须保证只被调用一次 在这里利用isOK变量控制\r\nlet isOk = false;\r\nexport const socketListener = (socket) => {\r\n    // 为socket添加事件\r\n    if (socket && !isOk) {\r\n        isOk = true;\r\n        console.log(\"事件已经绑定\");\r\n        // 监听res\r\n        socket.on('res', (data) => {\r\n            console.log(data)\r\n        })\r\n        // 监听登录响应\r\n        socket.on('login', (data) => {\r\n            console.log(data)\r\n        })\r\n        // 设置404错误监听\r\n        socket.on('404', (data) => {\r\n            console.log(data)\r\n        })\r\n        // 设置错误监听\r\n        socket.on('error', (data) => {\r\n            console.log(data)\r\n        })\r\n        // 设置用户数据\r\n        socket.on('detail', (data) => {\r\n            console.log(data)\r\n            // 派发message\r\n            dispatch(homeActionCreator.userInfoChange(data.message))\r\n        })\r\n\r\n        // 监听好友列表名单\r\n        socket.on('friendList', (data) => {\r\n            console.log(data)\r\n            dispatch(homeActionCreator.friendListChange(data.data))\r\n        })\r\n        // 监听好友搜索结果\r\n        socket.on('searchFriend', (data) => {\r\n            console.log(data)\r\n            dispatch(homeActionCreator.searchFriendListChange(data.message))\r\n        })\r\n        // 监听好友添加响应\r\n        socket.on('addFriend', data => {\r\n            console.log(data)\r\n        })\r\n\r\n        // 监听登录消息\r\n        socket.on('loginMessage', data => {\r\n            console.log(data)\r\n            const unReadMessageList = data.data.obj;\r\n            dispatch(chatActionCreator.unReadMessageListChange(unReadMessageList))\r\n        })\r\n        // 监听获取聊天记录\r\n        socket.on('targetChatMessage', data => {\r\n            // console.log(data.messageList)\r\n            dispatch(chatActionCreator.messageListChange(data.messageList))\r\n        })\r\n        // 获取收到的消息\r\n        socket.on('message', data => {\r\n            const target = store.getState().ChatReducer.target\r\n            const token = store.getState().LoginReducer.token\r\n            // 正在聊天的处理\r\n            if (target === data.dispatcher) {\r\n                // 加入到现在正在聊天的位置\r\n                dispatch(chatActionCreator.addMessageList(data))\r\n            }\r\n            // 未聊天的处理\r\n            else {\r\n                // 加入到未读中\r\n                console.log(\"未读\", data)\r\n                // 如果在当前其消息队列\r\n                const unReadMessageList = store.getState().ChatReducer.unReadMessageList;\r\n                let tempUnReadMessageList = {\r\n                    ...unReadMessageList\r\n                }\r\n                const userID = data.dispatcher\r\n                if (userID in tempUnReadMessageList) {\r\n                    console.log('userid');\r\n                    tempUnReadMessageList[userID] = {\r\n                        ...tempUnReadMessageList[userID],\r\n                        count: tempUnReadMessageList[userID].count + 1,\r\n                        lastMessage: data.messageValue,\r\n                        ...data\r\n                    }\r\n                    dispatch(chatActionCreator.unReadMessageListChange(tempUnReadMessageList))\r\n                } else {\r\n                    console.log(\"不在list\")\r\n                    getInfoByUserID(userID, token).then(res => {\r\n                        const userDetail = res.data[0]\r\n                        if (userDetail) {\r\n                            tempUnReadMessageList[userID] = {\r\n                                ...tempUnReadMessageList[userID],\r\n                                ...data,\r\n                                ...userDetail,\r\n                                count: 1,\r\n                                lastMessage: data.messageValue\r\n                            }\r\n                            dispatch(chatActionCreator.unReadMessageListChange(tempUnReadMessageList))\r\n                        }\r\n\r\n                    })\r\n                }\r\n                // dispatch(chatActionCreator.addUnReadMessageList(data))\r\n            }\r\n        })\r\n        // // 获取发送动态\r\n        // socket.on('send', data => {\r\n        //     console.log(data)\r\n        // })\r\n        // 监听获取对方信息：\r\n        socket.on('UserDetailByUserIDs', data => {\r\n            console.log(data)\r\n            if (data.status) {\r\n                let list = data.data;\r\n                const { type } = data;\r\n                switch (type) {\r\n                    // 聊天中分发的\r\n                    case 'chat':\r\n                        dispatch(chatActionCreator.targetDetailChange(list[0]))\r\n                        break;\r\n                    default:\r\n                        break;\r\n                }\r\n            }\r\n        })\r\n\r\n    }\r\n}","import React, { useState, useEffect } from 'react'\r\n\r\n// 导入所涉及到的组件\r\nimport { NavBar } from './style'\r\nimport { renderRoutes } from 'react-router-config'\r\nimport User from '../User'\r\nimport Icon from '../../components/context/Icon'\r\nimport { Swiper, SwiperSlide } from 'swiper/react'\r\n// 导入对象sass\r\n/* \r\n** 注意需要 yarn add node-sass@4.14.1\r\n** 否则装错的话需要通过以下命令删除重装\r\n** npm uninstall node-sass\r\n** npm install node-sass@4.14.1\r\n*/\r\nimport 'swiper/swiper.scss'\r\n\r\n// 导入redux相关组件数据\r\nimport { connect } from 'react-redux'\r\nimport { actionCreator } from './store'\r\n\r\n\r\n// 导入全局socket监听器\r\nimport { socketListener } from '../../store/socketHandle'\r\n\r\n// 定义tabbar配置\r\nconst tabbarConfig = [\r\n    {\r\n        xlinkHref: '#icon-liaotian',\r\n        xlinkHrefActive: '#icon-liaotian-copy',\r\n        path: '/home/message',\r\n        text: '消息'\r\n    },\r\n    {\r\n        xlinkHref: '#icon-yonghu-copy',\r\n        xlinkHrefActive: '#icon-yonghu',\r\n        path: '/home/friends',\r\n        text: '朋友'\r\n    },\r\n    {\r\n        xlinkHref: '#icon-dongtai',\r\n        xlinkHrefActive: '#icon-dongtai-copy',\r\n        path: '/home/zoom',\r\n        text: 'zoom'\r\n    }\r\n]\r\n\r\n\r\nfunction Home(props) {\r\n    // state\r\n    const [currentIndex, setCurrentIndex] = useState(0);\r\n    // redux state\r\n    const { token, socket } = props;\r\n    // redux dispatch\r\n    const { socketConnect } = props;\r\n    // react-router\r\n    const { history, location } = props;\r\n    // 处理tabbar刷新bug\r\n    useEffect(() => {\r\n        // 处理刷新\r\n        tabbarConfig.forEach((item, index) => {\r\n            if (item.path === location.pathname) {\r\n                setCurrentIndex(index);\r\n                return;\r\n            }\r\n        })\r\n    }, [location.pathname])\r\n\r\n    // 鉴权：未登录则回到登录\r\n    useEffect(() => {\r\n        if (!token) {\r\n            history.push('/')\r\n        }\r\n    }, [token, history])\r\n\r\n    // 进行socket连接\r\n    useEffect(() => {\r\n        if (token) {\r\n            if (socket === null) {\r\n                socketConnect(token)\r\n            }\r\n        }\r\n    }, [token, socket, socketConnect])\r\n\r\n    // 为socket绑定on事件\r\n    useEffect(() => {\r\n        if (socket) {\r\n            socketListener(socket)\r\n        }\r\n    }, [socket])\r\n    return (\r\n        <div style={{ position: \"fixed\", width: '100vw', height: '100vh' }}>\r\n            <Swiper\r\n                style={{ position: \"fixed\", width: '100vw', height: '100vh' }}\r\n                //不需要边距\r\n                spaceBetween={0}\r\n                //默认在第二页\r\n                initialSlide={1}\r\n                slidesPerView={1}\r\n            >\r\n                {/**设置页 */}\r\n                <SwiperSlide >\r\n                    <User></User>\r\n                </SwiperSlide>\r\n\r\n                {/**主界面 */}\r\n                <SwiperSlide>\r\n                    <div style={{ width: '100vw', height: '100vh', overflow: 'scroll' }}>\r\n                        <div>\r\n                            {/**渲染页面 */}\r\n                            {renderRoutes(props.route.routes)}\r\n\r\n                            {/**tabbar导航 */}\r\n                            <NavBar>\r\n                                {tabbarConfig.map((item, index) => (\r\n                                    <div key={item.path} onClick={() => {\r\n                                        /** 进行tabbar的切换 */\r\n                                        props.history.push(item.path)\r\n                                        setCurrentIndex(index)\r\n                                    }}>\r\n                                        {currentIndex === index ? <Icon size='2rem' key={item.path} xlinkHref={item.xlinkHrefActive} /> : <Icon size='2rem' xlinkHref={item.xlinkHref} />}\r\n                                        <div style={{ color: currentIndex === index ? '#3498db' : '#666666' }}>{item.text}</div>\r\n                                    </div>\r\n                                ))}\r\n                            </NavBar>\r\n                        </div>\r\n                    </div>\r\n                </SwiperSlide>\r\n            </Swiper>\r\n        </div>\r\n\r\n    )\r\n}\r\n// redux连接\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        token: state.LoginReducer.token,\r\n        isLogin: state.LoginReducer.isLogin,\r\n        socket: state.HomeReducer.socket\r\n    }\r\n}\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        socketConnect: (token) => {\r\n            dispatch(actionCreator.socketConnect(token))\r\n        }\r\n    }\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(React.memo(Home));","import React, { useState, useImperativeHandle, useRef } from 'react'\r\n// 组件\r\nimport { Picker } from 'emoji-mart'\r\nimport Icon from '../Icon'\r\nimport styled from 'styled-components'\r\nimport 'emoji-mart/css/emoji-mart.css'\r\n\r\nconst InputStyle = styled.div`\r\n    position:absolute;\r\n    min-height:3rem;\r\n    /* max-height:5rem; */\r\n    display:flex;\r\n    flex-direction:column;\r\n    align-items:center;\r\n    overflow:scroll;\r\n    left:0;\r\n    right:0;\r\n    bottom:0;\r\n    /* z-index:1; */\r\n    color:#000;\r\n    background-color:#f6f6f6;\r\n    .input-contain{\r\n        width:100%;\r\n        display:flex;\r\n        flex-direction:row;\r\n        align-items:center;\r\n        #input-box{\r\n            font-size:1.5rem;\r\n            min-height:2rem;\r\n            max-height:8rem;\r\n            margin:2%;\r\n            padding: 0 3%;\r\n            width:80%;\r\n            overflow:scroll;\r\n            outline: none; \r\n            border-radius:1rem;\r\n            background-color:#fff;\r\n        }   \r\n        .icon-box{\r\n            width:30%;\r\n            display:flex;\r\n            justify-content:center;\r\n            align-items:center;\r\n            .send-btn{\r\n                background-color:#FBC531;\r\n                height:2rem;\r\n                line-height:2rem;\r\n                width:100%;\r\n                text-align:center;\r\n                border-radius:0.5rem;\r\n            }\r\n            span{\r\n                margin:3%;\r\n            }\r\n        }\r\n    }\r\n   \r\n`\r\n// 组件 准备抛出这个关闭的setValue方法 返回value就好\r\nexport const Input = React.forwardRef((props, ref) => {\r\n    const [showEmoji, setShowEmoji] = useState(false);\r\n    // 用于记录输入 用于回传\r\n    const [value, setValue] = useState('');\r\n    let files = []\r\n    // 获取发送事件\r\n    const { handleValue = () => { }, handleImage = () => { } } = props;\r\n    // 获取提交并处理\r\n    // 暴露一部分操作接口\r\n    useImperativeHandle(ref, () => ({\r\n        hiddenInput: () => {\r\n            setShowEmoji(false)\r\n        },\r\n        getValue: () => {\r\n            return value;\r\n        },\r\n        getImage: () => {\r\n            return files\r\n        }\r\n    }))\r\n    const inputFile = useRef(null)\r\n    const divInput = useRef(null)\r\n    return (\r\n        <InputStyle>\r\n            <div className=\"input-contain\">\r\n                {/**输入框 */}\r\n                <div contentEditable=\"true\"\r\n                    ref={divInput}\r\n                    id=\"input-box\"\r\n                    suppressContentEditableWarning={true}\r\n                    tabIndex=\"0\"\r\n                    onInput={event => {\r\n                        setValue(event.currentTarget.innerText)\r\n                    }}\r\n                    onFocus={() => {\r\n                        if (showEmoji) {\r\n                            // 点击隐藏表情输入\r\n                            setShowEmoji(false)\r\n                        }\r\n                    }}\r\n                >\r\n\r\n                </div>\r\n                {/**按钮 */}\r\n                <div className=\"icon-box\">\r\n                    <span onClick={() => {\r\n                        setShowEmoji(!showEmoji)\r\n                    }}>\r\n                        <Icon size={\"2rem\"} xlinkHref={\"#icon-biaoqing\"} />\r\n                    </span>\r\n                    {\r\n                        value === '' ? (<span onClick={() => {\r\n                            inputFile.current.click();\r\n                        }}>\r\n                            <Icon size={\"2rem\"} xlinkHref={\"#icon-tupian\"} />\r\n                        </span>) : (<span className=\"send-btn\"\r\n                            onMouseDown={event => {\r\n                                // 阻止失去焦点\r\n                                event.preventDefault();\r\n                            }}\r\n                            onClick={() => {\r\n                                // 传递value\r\n                                handleValue(value);\r\n                                // 清空输入,重置value\r\n                                divInput.current.innerText = ''\r\n                                setValue('');\r\n                            }}>发送</span>)\r\n                    }\r\n                </div>\r\n            </div>\r\n            <Picker\r\n                style={\r\n                    {\r\n                        width: \"100%\",\r\n                        display: showEmoji ? 'block' : 'none '\r\n                    }\r\n                }\r\n                set='apple'\r\n                showPreview={false}\r\n                showSkinTones={false}\r\n                title={\"表情包\"}\r\n                theme={\"auto\"}\r\n                onSelect={(emoji) => {\r\n                    //  直接加入native设置value\r\n                    divInput.current.innerText += emoji.native;\r\n                    setValue(divInput.current.innerText)\r\n                }}\r\n            />\r\n            {/**输入框 用来选择图片 */}\r\n            <input type=\"file\" ref={inputFile} style={{ display: 'none' }}\r\n                accept=\"image/*\"\r\n                onChange={(event) => {\r\n                    // 赋值给files\r\n                    files = event.target.files;\r\n                    handleImage(files)\r\n                }}\r\n            />\r\n        </InputStyle>\r\n    )\r\n})\r\n\r\nexport default React.memo(Input)","import React, {\r\n  forwardRef,\r\n  useState,\r\n  useEffect,\r\n  useRef,\r\n  useImperativeHandle,\r\n} from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport BScroll from \"better-scroll\";\r\nimport styled from \"styled-components\";\r\n\r\nconst ScrollContainer = styled.div`\r\n    width: 100%;\r\n    height: 100%;\r\n    overflow: hidden;\r\n  `;\r\nconst Scroll = forwardRef((props, ref) => {\r\n  const [bScroll, setBScroll] = useState();\r\n\r\n  const scrollContaninerRef = useRef();\r\n  // bool值\r\n  const { direction, click, refresh, bounceTop, bounceBottom } = props;\r\n  // 下拉 上拉 和滚动监听（函数）\r\n  const { pullUp, pullDown, onScroll } = props;\r\n  // 挂载Bscroll对象\r\n  useEffect(() => {\r\n    const scroll = new BScroll(scrollContaninerRef.current, {\r\n      scrollX: direction === \"horizental\",\r\n      scrollY: direction === \"vertical\",\r\n      probeType: 3,\r\n      click: click,\r\n      bounce: {\r\n        top: bounceTop,\r\n        bottom: bounceBottom,\r\n      },\r\n    });\r\n    setBScroll(scroll);\r\n    // 析构，避免内存泄漏\r\n    return () => {\r\n      setBScroll(null);\r\n    };\r\n    //eslint-disable-next-line\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!bScroll || !onScroll) return;\r\n    bScroll.on(\"scroll\", (scroll) => {\r\n      onScroll(scroll);\r\n    });\r\n    return () => {\r\n      bScroll.off(\"scroll\");\r\n    };\r\n  }, [onScroll, bScroll]);\r\n\r\n  useEffect(() => {\r\n    if (!bScroll || !pullUp) return;\r\n    bScroll.on(\"scrollEnd\", () => {\r\n      // 判断是否滑动到了底部\r\n      if (bScroll.y <= bScroll.maxScrollY + 100) {\r\n        pullUp();\r\n      }\r\n    });\r\n    return () => {\r\n      bScroll.off(\"scrollEnd\");\r\n    };\r\n  }, [pullUp, bScroll]);\r\n\r\n  useEffect(() => {\r\n    if (!bScroll || !pullDown) return;\r\n    bScroll.on(\"touchEnd\", (pos) => {\r\n      // 判断用户的下拉动作\r\n      if (pos.y > 50) {\r\n        pullDown();\r\n      }\r\n    });\r\n    return () => {\r\n      bScroll.off(\"touchEnd\");\r\n    };\r\n  }, [pullDown, bScroll]);\r\n\r\n  useEffect(() => {\r\n    if (refresh && bScroll) {\r\n      bScroll.refresh();\r\n    }\r\n  });\r\n  // 将Bscroll对象往上传递\r\n  useImperativeHandle(ref, () => ({\r\n    refresh() {\r\n      if (bScroll) {\r\n        bScroll.refresh();\r\n        // bScroll.scrollTo(0, 0);\r\n      }\r\n    },\r\n    getBScroll() {\r\n      if (bScroll) {\r\n        return bScroll;\r\n      }\r\n    },\r\n  }));\r\n\r\n  return (\r\n    <ScrollContainer ref={scrollContaninerRef}>\r\n      {props.children}\r\n    </ScrollContainer>\r\n  );\r\n});\r\n\r\nScroll.defaultProps = {\r\n  direction: \"vertical\",\r\n  click: true,\r\n  refresh: true,\r\n  onScroll: null,\r\n  pullUpLoading: false,\r\n  pullDownLoading: false,\r\n  pullUp: null,\r\n  pullDown: null,\r\n  bounceTop: true,\r\n  bounceBottom: true,\r\n};\r\n\r\nScroll.propTypes = {\r\n  direction: PropTypes.oneOf([\"vertical\", \"horizental\"]),\r\n  refresh: PropTypes.bool,\r\n  onScroll: PropTypes.func,\r\n  pullUp: PropTypes.func,\r\n  pullDown: PropTypes.func,\r\n  pullUpLoading: PropTypes.bool,\r\n  pullDownLoading: PropTypes.bool,\r\n  bounceTop: PropTypes.bool, // 是否支持向上吸顶\r\n  bounceBottom: PropTypes.bool, // 是否支持向上吸顶\r\n};\r\n\r\nexport default React.memo(Scroll);\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nconst SelfMessageStyle = styled.div`\r\n    width:100vw;\r\n    display:flex;\r\n    flex-direction:row;\r\n    justify-content:flex-end;\r\n`\r\nconst DescBox = styled.div`\r\n    display:flex;\r\n    width:100%;\r\n    flex-direction:column;\r\n    justify-content:center;\r\n    word-break:break-all;\r\n    align-items:flex-end;\r\n`\r\nconst MessageBox = styled.div`\r\n    position:relative;\r\n    left:-0.8rem;\r\n    background-color:#FFCD00;\r\n    display:block;  \r\n    margin-top:2%;\r\n    min-height:1.3rem;\r\n    min-width:2rem;\r\n    max-width:70%;\r\n    border-radius:0.5rem;\r\n    padding:2%;\r\n    &::after{\r\n        content:\"\";\r\n        height:0;  \r\n        width: 0;  \r\n        position:absolute;\r\n        left:97%;\r\n        top:0.2rem;\r\n        transform:rotate(-93deg);\r\n        z-index:-1;\r\n        border-top: 0.7rem solid #FFCD00;  \r\n        border-left: 0.7rem solid transparent;  \r\n        border-right: 0.7rem solid transparent;\r\n        border-bottom:0.7rem solid transparent;\r\n    }\r\n`\r\n\r\nconst Avator = styled.img`\r\n    width:2.7rem;\r\n    height:2.7rem;\r\n    border-radius:0.3rem;\r\n`\r\nconst MessageTitle = styled.div`\r\n    text-align:right;\r\n    width:98%;\r\n    color:#888;\r\n    margin-right:2%;\r\n`\r\nconst DateTitle = styled.div`\r\n    text-align:right;\r\n    color:#888;\r\n    width:98%;\r\n    font-size:0.2rem;\r\n    margin-right:2%;\r\n`\r\nconst ImgMessage = styled.img`\r\n    min-width:3rem;\r\n    max-width:70%;\r\n    border-radius:0.4rem;\r\n`\r\nexport const SelfMessgae = (props) => {\r\n    // 显示状态\r\n    const { nickName = \"\", date = \"\", messageValue = \"\", avator = \"https://xgpax.top/wp-content/uploads/2020/08/head.png\", messageType = \"1\" } = props;\r\n    const { handleImgLoaded = () => { } } = props;\r\n    return (\r\n        <SelfMessageStyle>\r\n            <DescBox>\r\n                <MessageTitle>{nickName}</MessageTitle>\r\n                <DateTitle>{date}</DateTitle>\r\n                {\r\n                    // eslint-disable-next-line\r\n                    messageType == \"1\" ? (<MessageBox>\r\n                        {messageValue}\r\n                    </MessageBox>) : (<ImgMessage src={messageValue} onLoad={() => {\r\n                        handleImgLoaded();\r\n                    }} />)\r\n                }\r\n\r\n            </DescBox>\r\n            <Avator src={avator} onload={() => {\r\n                handleImgLoaded();\r\n            }} ></Avator>\r\n        </SelfMessageStyle>\r\n    )\r\n}\r\n\r\nexport default React.memo(SelfMessgae)","import React from 'react'\r\nimport styled from 'styled-components'\r\nconst SelfMessageStyle = styled.div`\r\n    margin-top:3%;  \r\n    width:100vw;\r\n    display:flex;\r\n    flex-direction:row;\r\n    justify-content:flex-start;\r\n`\r\nconst DescBox = styled.div`\r\n    display:flex;\r\n    width:100%;\r\n    flex-direction:column;\r\n    justify-content:center;\r\n    word-break:break-all;\r\n    align-items:flex-start;\r\n`\r\nconst MessageBox = styled.div`\r\n    position:relative;\r\n    left:0.8rem;\r\n    background-color:#FFCD00;\r\n    display:block;  \r\n    margin-top:2%;\r\n    min-height:1.3rem;\r\n    min-width:2rem;\r\n    max-width:70%;\r\n    border-radius:0.5rem;\r\n    padding:2%;\r\n    &::before{\r\n        content:\"\";\r\n        height:0;  \r\n        width: 0;  \r\n        position:absolute;\r\n        left:-1.5rem;\r\n        top:-0.3rem;\r\n        transform:rotate(105deg);\r\n        z-index:-1;\r\n        border-top: 1rem solid  #FFCD00;  \r\n        border-left: 1rem solid transparent;  \r\n        border-right: 1rem solid transparent;\r\n        border-bottom:1rem solid transparent;\r\n    }\r\n`\r\n\r\nconst Avator = styled.img`\r\n    width:2.7rem;\r\n    height:2.7rem;\r\n    border-radius:0.3rem;\r\n`\r\nconst MessageTitle = styled.div`\r\n    text-align:left;\r\n    width:98%;\r\n    color:#888;\r\n    margin-right:2%;\r\n`\r\nconst DateTitle = styled.div`\r\n    text-align:left;\r\n    width:98%;\r\n    color:#888;\r\n    font-size:0.2rem;\r\n    margin-right:2%;\r\n`\r\nconst ImgMessage = styled.img`\r\n    min-width:3rem;\r\n    max-width:70%;\r\n    border-radius:0.4rem;\r\n`\r\nexport const OtherMessgae = (props) => {\r\n    const { nickName = \"\", date = \"\", messageValue = \"\", avator = \"https://xgpax.top/wp-content/uploads/2020/08/head.png\", messageType = \"1\" } = props;\r\n    const { handleImgLoaded = () => { } } = props;\r\n    return (\r\n        <SelfMessageStyle>\r\n            <Avator src={avator} onload={() => {\r\n                handleImgLoaded();\r\n            }} ></Avator>\r\n            <DescBox>\r\n                <MessageTitle>{nickName}</MessageTitle>\r\n                <DateTitle>{date}</DateTitle>\r\n                {\r\n                    // eslint-disable-next-line\r\n                    messageType == \"1\" ? (<MessageBox>\r\n                        {messageValue}\r\n                    </MessageBox>) : (<ImgMessage src={messageValue} onLoad={() => {\r\n                        handleImgLoaded();\r\n                    }} />)\r\n                }\r\n            </DescBox>\r\n        </SelfMessageStyle>\r\n    )\r\n}\r\n\r\nexport default React.memo(OtherMessgae)","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport SelfMessage from './selfMessage'\r\nimport OtherMessage from './otherMessage'\r\nconst MessageStyle = styled.div`\r\n\r\n\r\n`\r\nexport const Message = (props) => {\r\n    // type=1:自己发的 type=2别人发的\r\n    const { type = 1, nickName = \"\", date = \"\", messageValue = \"\", avator = \"https://xgpax.top/wp-content/uploads/2020/08/head.png\", messageType = \"1\" } = props;\r\n    const { handleImgLoaded } = props;\r\n    return (\r\n        <MessageStyle>\r\n            {\r\n                type === 1 ? <SelfMessage\r\n                    nickName={nickName}\r\n                    date={date}\r\n                    messageType={messageType}\r\n                    messageValue={messageValue}\r\n                    avator={avator}\r\n                    handleImgLoaded={handleImgLoaded}\r\n                /> : <OtherMessage\r\n                        nickName={nickName}\r\n                        date={date}\r\n                        messageType={messageType}\r\n                        messageValue={messageValue}\r\n                        avator={avator}\r\n                        handleImgLoaded={handleImgLoaded}\r\n                    />\r\n            }\r\n        </MessageStyle>\r\n    )\r\n}\r\n\r\nexport default React.memo(Message)","import React, { useRef, useEffect } from 'react'\r\nimport styled from 'styled-components'\r\nimport Scroll from '../../common/Scroll'\r\n// 聊天框\r\nimport Message from '../Message'\r\nconst ChatBoxStyle = styled.div`\r\n    position:absolute;\r\n    left:0;\r\n    right:0;\r\n    bottom:3rem;\r\n    top:3.5rem;\r\n    overflow:scroll;\r\n    background-color:#f5f5f5;\r\n`\r\nexport const ChatBox = (props) => {\r\n    const scroll = useRef(null)\r\n    // 数据结构对象应该是 [{type:1||2?,nickName,date,messageValue,messageType,avator }]\r\n    const { messageList = [] } = props;\r\n    const { handleClick = () => { } } = props;\r\n    useEffect(() => {\r\n        if (scroll) {\r\n            const bscroll = scroll.current.getBScroll()\r\n            if (bscroll) {\r\n                scroll.current.refresh()\r\n                bscroll.scrollTo(0, bscroll.maxScrollY)\r\n            }\r\n        }\r\n    }, [messageList])\r\n    // 监听键盘弹起\r\n    useEffect(() => {\r\n        // 保持弹起\r\n        window.onresize = () => {\r\n            if (scroll) {\r\n                const bscroll = scroll.current.getBScroll()\r\n                if (bscroll) {\r\n                    scroll.current.refresh()\r\n                    bscroll.scrollTo(0, bscroll.maxScrollY)\r\n                }\r\n            }\r\n        }\r\n    })\r\n    return (\r\n        <ChatBoxStyle>\r\n            <Scroll ref={scroll}>\r\n                <div\r\n                    onClick={() => {\r\n                        handleClick();\r\n                    }}>\r\n                    {\r\n                        messageList.map((item, index) => (<Message handleImgLoaded={() => {\r\n                            // 加载后刷新scroll对象\r\n                            if (scroll) {\r\n                                scroll.current.refresh()\r\n                                const bscroll = scroll.current.getBScroll();\r\n                                if (bscroll) {\r\n                                    bscroll.scrollTo(0, bscroll.maxScrollY)\r\n                                }\r\n                            }\r\n                        }\r\n                        }\r\n                            type={item.type}\r\n                            nickName={item.nickName}\r\n                            date={item.date}\r\n                            messageType={item.messageType}\r\n                            messageValue={item.messageValue}\r\n                            avator={item.avator}\r\n                            key={index} />))\r\n                    }\r\n                </div>\r\n            </Scroll>\r\n        </ChatBoxStyle>\r\n\r\n    )\r\n}\r\n\r\nexport default React.memo(ChatBox)","import dayjs from 'dayjs'\r\nlet calendar = require('dayjs/plugin/calendar')\r\nrequire('dayjs/locale/zh-cn')\r\ndayjs.extend(calendar)\r\ndayjs.locale('zh-cn')\r\nexport const formatDate = date => {\r\n    return dayjs(date).calendar(null, {\r\n        sameDay: '今天Ah:mm', // The same day ( Today at 2:30 AM )\r\n        nextDay: '明天Ah:mm', // The next day ( Tomorrow at 2:30 AM )\r\n        nextWeek: '下周Ah:mm', // The next week ( Sunday at 2:30 AM )\r\n        lastDay: '昨天Ah:mm', // The day before ( Yesterday at 2:30 AM )\r\n        lastWeek: '上周dAh:mm', // Last week ( Last Monday at 2:30 AM )\r\n        sameElse: 'MM/DD Ah:mm' // Everything else ( 7/10/2011 )\r\n    })\r\n}","import React, { useRef, useEffect } from 'react'\r\nimport styled from 'styled-components'\r\nimport Input from '../../components/context/Input'\r\nimport Nav from '../../components/common/Nav'\r\nimport Icon from '../../components/context/Icon'\r\nimport ChatBox from '../../components/context/chatBox'\r\n// 导入redux\r\nimport { useSelector, useDispatch } from 'react-redux'\r\n// 导入控制数据流方法\r\nimport { getTargetChatMessage, chat2target } from '../../store/socketHandle/action'\r\nimport { actionCreator } from './store'\r\n// 导入七牛云\r\nimport { file2qiniuCloud } from '../../api/HomeRequest'\r\n// util\r\nimport { formatDate } from '../../utils'\r\nconst ChatStyle = styled.div`\r\n      \r\n`\r\nexport const Chat = (props) => {\r\n  const { onExit } = props\r\n  const { targetAvator = \"\", targetNickname = \"\" } = props;\r\n  // 获取chat信息\r\n  // 获取chatStore 直接使用redux\r\n  // 获取target\r\n  const target = useSelector(store => store.ChatReducer.target)\r\n  // 获取socket\r\n  const socket = useSelector(store => store.HomeReducer.socket)\r\n  // 获取头像\r\n  const avator = useSelector(store => store.HomeReducer.userInfo.avator)\r\n  // 获取聊天记录\r\n  const messageList = useSelector(store => store.ChatReducer.messageList)\r\n  // 获取自己的id\r\n  const userID = useSelector(store => store.HomeReducer.userInfo.userID)\r\n  // 获取自己的名称\r\n  const nickName = useSelector(store => store.HomeReducer.userInfo.nickName)\r\n  // 获取token\r\n  const token = useSelector(store => store.LoginReducer.token)\r\n  // 分发\r\n  const dispatch = useDispatch();\r\n  // 针对messageList处理\r\n  const messageListAfterHandle = messageList.map(item => ({\r\n    ...item,\r\n    // 针对文字解码messageList\r\n    // eslint-disable-next-line\r\n    messageValue: item.messageType == \"1\" ? window.decodeURIComponent(window.atob(item.messageValue)) : item.messageValue,\r\n    date: formatDate(item.date),\r\n    type: item.recevier === target ? 1 : 2,\r\n    nickName: item.recevier === target ? nickName : targetNickname,\r\n    avator: item.recevier === target ? avator : targetAvator\r\n  }))\r\n  useEffect(() => {\r\n    if (target) {\r\n      // 获取聊天记录\r\n      getTargetChatMessage(socket, target)\r\n    }\r\n  }, [target, socket])\r\n  const ref = useRef(null)\r\n  return (\r\n    <ChatStyle>\r\n      {/**导航条 */}\r\n      <Nav>\r\n        <span onClick={() => {\r\n          if (onExit) onExit();\r\n        }}>\r\n          <Icon xlinkHref=\"#icon-houtui\" size={\"1.5rem\"}></Icon>\r\n        </span>\r\n        <span>{targetNickname}</span>\r\n        <span></span>\r\n      </Nav>\r\n\r\n      {/**消息显示 */}\r\n      <ChatBox messageList={messageListAfterHandle}></ChatBox>\r\n      {/**输入框 */}\r\n      <Input ref={ref} handleValue={\r\n        value => {\r\n          // 发送消息\r\n          chat2target(socket, target, {\r\n            type: 1,\r\n            value\r\n          })\r\n          // 构造数据添加\r\n          const data = {\r\n            date: new Date(),\r\n            dispatcher: userID,\r\n            messageType: \"1\",\r\n            // 进行base64编码\r\n            messageValue: window.btoa(window.encodeURIComponent(value)),\r\n            recevier: target\r\n          }\r\n          // 分发\r\n          dispatch(actionCreator.addMessageList(data))\r\n        }}\r\n        handleImage={async file => {\r\n          // 先上传\r\n          const url = await file2qiniuCloud(token, file[0]);\r\n          chat2target(socket, target, {\r\n            type: 2,\r\n            value: url\r\n          });\r\n          // 分发\r\n          const data = {\r\n            date: new Date(),\r\n            dispatcher: userID,\r\n            messageType: \"2\",\r\n            // 进行base64编码\r\n            messageValue: url,\r\n            recevier: target\r\n          }\r\n          dispatch(actionCreator.addMessageList(data))\r\n        }\r\n        } ></Input>\r\n    </ChatStyle>\r\n  )\r\n}\r\n\r\nexport default React.memo(Chat)","import React from 'react'\r\n\r\n//导入组件\r\nimport Avator from '../../common/Avator'\r\nimport Icon from '../../context/Icon'\r\nimport styled from 'styled-components'\r\nconst FriendStyle = styled.div`\r\n    width:95%;\r\n    padding:2.5%;\r\n    .contain{\r\n        display:flex;\r\n        flex-direction:row;\r\n        justify-content:center;\r\n        align-items:center;\r\n        width:100%;\r\n    }\r\n    .avator{\r\n        width:30%;\r\n        display:flex;\r\n        /* flex-direction:row;\r\n        justify-content:center;\r\n        align-items:center; */\r\n    }\r\n    .title-box{\r\n        width:70%;\r\n        display:flex;\r\n        flex-direction:column;\r\n        justify-content:center;\r\n        /* align-items:center; */\r\n        .title{\r\n           font-size:1.5rem;\r\n        }\r\n        .desc{\r\n            overflow: hidden;\r\n             /*文本不会换行*/\r\n            white-space: nowrap;\r\n            /*当文本溢出包含元素时，以省略号表示超出的文本*/\r\n            text-overflow: ellipsis;\r\n            color:#888;\r\n            font-size:0.8rem;\r\n        }\r\n    }\r\n    .operation{\r\n            position:relative;\r\n            right:0.5rem;   \r\n    }\r\n\r\n`\r\nexport const Friend = (props) => {\r\n    const { nickName = \"无昵称\", desc = \"这个人很懒，没有个性签名\", avator = 'https://xgpax.top/wp-content/uploads/2020/11/defaultAvator.png' } = props;\r\n    const { needIcon = true, xlinkHref = '#icon-tianjia' } = props;\r\n    const { handleClick, handleIconClick } = props;\r\n    return (\r\n        <FriendStyle>\r\n            <div className='contain' onClick={() => {\r\n                if (handleClick) handleClick();\r\n            }}>\r\n                <div className=\"avator\">\r\n                    <Avator size={3.7} imgSrc={avator}></Avator>\r\n                </div>\r\n                <div className=\"title-box\">\r\n                    <div className='title'>{nickName}</div>\r\n                    <div className='desc'>{desc}</div>\r\n                </div>\r\n                <div className=\"operation\" \r\n                    style={{ visibility: needIcon ? \"visible\" : \"hidden\" }}\r\n                    onClick={() => {\r\n                        if (handleIconClick) handleIconClick();\r\n                    }}>\r\n                    <Icon xlinkHref={xlinkHref} size={\"1.6rem\"}></Icon>\r\n                </div>\r\n            </div>\r\n        </FriendStyle>\r\n    )\r\n}\r\n\r\nexport default React.memo(Friend) ","import React, { useState } from 'react'\r\n\r\n// 组件\r\nimport Transition from '../../components/common/Transition'\r\nimport Chat from '../Chat'\r\nimport Nav from '../../components/common/Nav'\r\nimport Friend from '../../components/context/Friend'\r\nimport styled from 'styled-components'\r\n// redux\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { actionCreator } from '../Chat/store'\r\nimport Icon from '../../components/context/Icon'\r\nconst FriendList = styled.div`\r\n    .show-box{\r\n        width:100%;\r\n        height:50vh;\r\n        display:flex;\r\n        flex-direction:column;\r\n        justify-content:center;\r\n        align-items:center;\r\n        .desc-box{\r\n            color:#888;\r\n        }\r\n    }\r\n`\r\n\r\nconst Message = (props) => {\r\n    // 设置state\r\n    const [show, setShow] = useState(false);\r\n    const [avator, setAvator] = useState('https://xgpax.top/wp-content/uploads/2020/11/defaultAvator.png')\r\n    const [nickname, setNickname] = useState('')\r\n    const dispatch = useDispatch();\r\n    // 设置显示的数据\r\n    const fakeData = []\r\n    const target = useSelector(store => store.ChatReducer.target)\r\n    const unReadMessageList = useSelector(store => store.ChatReducer.unReadMessageList)\r\n    for (const item in unReadMessageList) {\r\n        fakeData.push(unReadMessageList[item])\r\n    }\r\n    // 获取当前聊天\r\n    const messageList = useSelector(store => store.ChatReducer.messageList)\r\n    return (\r\n        <div>\r\n            {/**nav状态 */}\r\n            <Nav>\r\n                <span></span>\r\n                <span>信息</span>\r\n                <span></span>\r\n            </Nav>\r\n            {/**消息列表*/}\r\n            <FriendList>\r\n                {\r\n                    fakeData.length ? (fakeData.map(item => (<Friend\r\n                        key={item.userID}\r\n                        nickName={item.nickName}\r\n                        // eslint-disable-next-line \r\n                        desc={(item.count > 0 ? `[有${item.count}条新消息]` : '') + (item.messageType == \"1\" ? window.decodeURIComponent(window.atob(item.lastMessage)) : \"图片\")}\r\n                        avator={item.avator}\r\n                        xlinkHref={\"#icon-liaotian\"}\r\n                        handleIconClick={() => {\r\n                            // 分发target改变\r\n                            dispatch(actionCreator.targetChange(item.userID))\r\n                            // 传入头像\r\n                            setAvator(item.avator)\r\n                            // 传入nickname\r\n                            setNickname(item.nickName)\r\n                            setShow(true)\r\n                        }}\r\n                    />))) : (<div className=\"show-box\">\r\n                        <Icon xlinkHref={\"#icon-A\"} size={\"8rem\"} />\r\n                        <div className=\"desc-box\">暂时没有新消息噢</div>\r\n                    </div>)\r\n                }\r\n            </FriendList>\r\n\r\n            {/**聊天框 */}\r\n            <Transition show={show} >\r\n                <Chat\r\n                    targetAvator={avator}\r\n                    targetNickname={nickname}\r\n                    onExit={() => {\r\n                        dispatch(actionCreator.targetChange(''))\r\n                        // 清除消息，更新message\r\n                        dispatch(actionCreator.countChange({ target, count: 0 }))\r\n                        dispatch(actionCreator.messageChange({\r\n                            target,\r\n                            lastMessage: messageList[messageList.length - 1].messageValue,\r\n                            messageType: messageList[messageList.length - 1].messageType,\r\n                        }))\r\n                        setShow(false)\r\n                    }}></Chat>\r\n            </Transition>\r\n        </div>\r\n    )\r\n}\r\nexport default React.memo(Message)\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nconst ZoomMessageStyle = styled.div`\r\n    display:flex;\r\n    flex-direction:column;\r\n    width:100%;\r\n    box-sizing:border-box;\r\n    padding:0.3rem;\r\n    overflow-x:hidden;\r\n    .avator-box{\r\n        display:flex;\r\n        flex-direction:row;\r\n        padding-bottom:0.5rem;\r\n        img{\r\n            width:3rem;\r\n            height:3rem;\r\n            border-radius:50%;\r\n        }\r\n        .avator-box-title{\r\n            position:relative;\r\n            left:0.3rem;\r\n             .avator-box-nickname{\r\n                 font-size:1.5rem;\r\n             }\r\n             .avator-box-date{\r\n                 font-size:0.7rem;\r\n                 color:#888;\r\n             }\r\n        }\r\n    }\r\n    .desc-box{\r\n        display:flex;\r\n        flex-direction:column;\r\n        \r\n        .desc-text{\r\n            font-size:0.9rem;\r\n        }\r\n        .img-box{\r\n            width:100%;\r\n            img{\r\n                box-sizing:border-box;\r\n                padding:0.3rem;\r\n                min-width:30%;\r\n                max-width:49%;\r\n            }\r\n        }\r\n    }\r\n`\r\nexport const ZoomMessage = (props) => {\r\n    const { avator, content, nickName, date } = props;\r\n    // 处理img加载\r\n    const { handleLoad = () => { } } = props;\r\n    return (\r\n        <ZoomMessageStyle>\r\n            <div className='avator-box'>\r\n                {/**头像盒子 */}\r\n                <img src={avator} alt=\"\" />\r\n                <div className='avator-box-title'>\r\n                    <div className='avator-box-nickname'>{nickName}</div>\r\n                    <div className='avator-box-date'>{date}</div>\r\n                </div>\r\n            </div>\r\n            <div className=\"desc-box\">\r\n                {/**内容 */}\r\n                <div className=\"desc-text\">\r\n                    {content.text}\r\n                </div>\r\n                {/**图片 */}\r\n                <div className=\"img-box\">\r\n                    {content.imgSrc.map((item, index) => (<img key={index} src={item} alt=\"\" onLoad={() => { handleLoad() }} />))}\r\n                </div>\r\n            </div>\r\n        </ZoomMessageStyle>\r\n    )\r\n}\r\n\r\nexport default React.memo(ZoomMessage)","import React, { useRef, useState } from 'react'\r\nimport Nav from '../../components/common/Nav'\r\nimport Icon from '../../components/context/Icon'\r\nimport styled from 'styled-components'\r\nimport { useSelector } from 'react-redux'\r\n// 导入文件上传\r\nimport { file2qiniuCloud, pubZoom } from '../../api/HomeRequest'\r\nconst PubZoomStyle = styled.div`\r\n    height:100vh;\r\n    display:flex;\r\n    flex-direction:column;\r\n    align-items:center;\r\n    background-color:#f5f5f5;\r\n    .input-box{\r\n        margin-top:1rem;\r\n        background-color:#fff;\r\n        textarea{\r\n            border-radius:0.4rem;\r\n        }\r\n        .img-input{\r\n            display:flex;\r\n            flex-direction:row;\r\n            flex-wrap:wrap;\r\n            align-items:center;\r\n            &>*{\r\n                background-color:#f5f5f5;\r\n                width:6rem;\r\n                height:6rem;\r\n                display:flex;\r\n                flex-direction:column;\r\n                align-items:center;\r\n                justify-content:center;\r\n               margin:0.2rem;\r\n            }\r\n            img{\r\n                width:6rem;\r\n                height:6rem;\r\n            }\r\n            .img-select{\r\n                \r\n            }\r\n        }\r\n    }\r\n    .text-box{\r\n        margin-top:1rem;\r\n        width:90vw;\r\n        border:none;\r\n        resize:none;\r\n        outline:none;\r\n        \r\n    }\r\n`\r\nexport const PubZoom = (props) => {\r\n    const { onExit = () => { } } = props;\r\n    const token = useSelector(state => state.LoginReducer.token)\r\n    const userID = useSelector(state => state.HomeReducer.userInfo.userID)\r\n    // state\r\n    //输入\r\n    const [value, setValue] = useState('')\r\n    const [imgSrc, setImgSrc] = useState([])\r\n    const Input = useRef(null);\r\n    return (\r\n        <PubZoomStyle>\r\n            <Nav>\r\n                <span style={{ position: \"relative\", left: '0.5rem' }} onClick={() => {\r\n                    onExit();\r\n                }}>\r\n                    <Icon size={'1.5rem'} xlinkHref=\"#icon-houtui\"></Icon>\r\n                </span>\r\n                <span>发布</span>\r\n                <span style={{ position: \"relative\", right: '0.5rem' }} onClick={() => {\r\n                    console.log(\"?\")\r\n                    pubZoom(token, {\r\n                        userID,\r\n                        contentImgSrc: imgSrc.toString(),\r\n                        contentText: value\r\n                    })\r\n                    onExit();\r\n                    setValue('')\r\n                    setImgSrc([])\r\n\r\n                }}>\r\n                    <Icon size={'1.5rem'} xlinkHref=\"#icon-wanchengchenggong\"></Icon>\r\n                </span>\r\n            </Nav>\r\n            {/**输入框与图片 */}\r\n            <div className=\"input-box\">\r\n                <div className=\"input-area\">\r\n                    <textarea cols=\"30\" rows=\"10\" className=\"text-box\" value={value} onChange={event => {\r\n                        setValue(event.currentTarget.value)\r\n                    }} placeholder=\"说点什么吧……\"></textarea>\r\n                </div>\r\n                <div className=\"img-input\">\r\n                    {imgSrc.map((item, index) => (<div className=\"img-select\" key={index}>\r\n                        <img src={item} alt=\"\" />\r\n                    </div>))}\r\n\r\n                    <div className=\"img-button\" onClick={() => {\r\n                        Input.current.click();\r\n                    }}>\r\n                        <Icon xlinkHref={'#icon-ziyuan'} />\r\n                        <div>选择图片</div>\r\n                    </div>\r\n                    <input type=\"file\" ref={Input} accept=\"image/*\" style={{ display: 'none' }} onChange={async event => {\r\n                        const files = event.currentTarget.files;\r\n                        // 可能会有阻塞问题，先不考虑优化\r\n                        for (let item of files) {\r\n                            const url = await file2qiniuCloud(token, item);\r\n                            // 插入\r\n                            setImgSrc([...imgSrc, url])\r\n                        }\r\n                    }} />\r\n                </div>\r\n            </div>\r\n\r\n        </PubZoomStyle>\r\n    )\r\n}\r\n\r\nexport default React.memo(PubZoom)","import React, { useRef, useState, useEffect } from 'react'\r\nimport Nav from '../../components/common/Nav'\r\nimport ZoomMessage from '../../components/context/ZoomMessage'\r\nimport Scroll from '../../components/common/Scroll'\r\nimport styled from 'styled-components'\r\nimport Transition from '../../components/common/Transition'\r\nimport PubZoom from '../PubZoom'\r\nimport Icon from '../../components/context/Icon'\r\n// 获取分页数据\r\nimport { getZoomByPage } from '../../api/HomeRequest'\r\n// redux\r\nimport { useSelector } from 'react-redux'\r\n// util\r\nimport { formatDate } from '../../utils'\r\nconst ZoomStyle = styled.div`\r\n    .wrapper{\r\n      position:absolute;\r\n      left:0;\r\n      right:0;\r\n      bottom:3rem;\r\n      top:3.5rem;\r\n      background-color:#fff;\r\n    }\r\n`\r\n\r\nconst Zoom = (props) => {\r\n    // 打开发布\r\n    const [pub, setPub] = useState(false)\r\n    const token = useSelector(state => state.LoginReducer.token)\r\n    const [page, setPage] = useState(1);\r\n    const [mockData, setMockData] = useState([])\r\n    // 初始化请求第一页\r\n    const getFirstPage = () => {\r\n        return new Promise(resolve => {\r\n            getZoomByPage(token, 1).then(res => {\r\n                res = res.data\r\n                console.log(res);\r\n                const resData = res.map(item => ({\r\n                    ...item,\r\n                    date: formatDate(item.date),\r\n                    content: {\r\n                        text: item.contentText,\r\n                        imgSrc: item.contentImgSrc.split(',')\r\n                    }\r\n                }))\r\n                setMockData(resData)\r\n                resolve(true)\r\n            })\r\n        })\r\n    }\r\n    // 执行一次\r\n    useEffect(() => {\r\n        getFirstPage();\r\n        // eslint-disable-next-line\r\n    }, [])\r\n\r\n    // 请求后续\r\n    const getDataByPage = () => {\r\n        getZoomByPage(token, page + 1).then(res => {\r\n            console.log(res)\r\n            const data = res.data\r\n            if (data.length) {\r\n                // 加进来\r\n                setPage(page + 1)\r\n                let testData = [...mockData];\r\n                console.log(data)\r\n                // 分段加\r\n                data.forEach(item => {\r\n                    testData.push({\r\n                        ...item,\r\n                        date: formatDate(item.date),\r\n                        content: {\r\n                            text: item.contentText,\r\n                            imgSrc: item.contentImgSrc.split(',')\r\n                        }\r\n                    })\r\n                })\r\n                setMockData(testData)\r\n            }\r\n        })\r\n\r\n    }\r\n    // scroll\r\n    const scroll = useRef(null)\r\n    return (\r\n        <ZoomStyle>\r\n            {/**nav状态 */}\r\n            <Nav>\r\n                <span></span>\r\n                <span>Zoom</span>\r\n                <span>\r\n                    <span style={{ position: \"relative\", left: '-1rem' }} onClick={() => [\r\n                        setPub(true)\r\n                    ]}>\r\n                        <Icon\r\n                            xlinkHref={\"#icon-add\"}\r\n                            size={'1.8rem'}\r\n                        />\r\n                    </span>\r\n                </span>\r\n            </Nav>\r\n            {/**显示动态 */}\r\n            <div className=\"wrapper\">\r\n                {/**添加触底事件 */}\r\n                <Scroll ref={scroll} pullUp={() => {\r\n                    getDataByPage()\r\n                }}\r\n                    pullDown={() => {\r\n                        getFirstPage().then(() => {\r\n                            if (scroll.current.getBScroll) {\r\n                                const BScroll = scroll.current.getBScroll()\r\n                                // 到顶部\r\n                                if (BScroll) {\r\n                                    BScroll.scrollTo(0, 0)\r\n                                }\r\n                            }\r\n                        })\r\n                    }}\r\n                >\r\n                    <div>\r\n                        {\r\n                            mockData.map(item => (<ZoomMessage\r\n                                avator={item.avator}\r\n                                nickName={item.nickName}\r\n                                date={item.date}\r\n                                content={item.content}\r\n                                key={item.id}\r\n                                handleLoad={() => {\r\n                                    // 图片加载后刷新scroll\r\n                                    if (scroll) {\r\n                                        scroll.current.refresh();\r\n                                    }\r\n                                }}\r\n                            />))\r\n                        }\r\n                    </div>\r\n                </Scroll>\r\n            </div>\r\n            {/**发布页面 */}\r\n            <Transition show={pub} >\r\n                <PubZoom onExit={() => {\r\n                    setPub(false)\r\n                    // 重新加载数据\r\n                    setTimeout(() => {\r\n                        getFirstPage().then(() => {\r\n                            if (scroll.current.getBScroll) {\r\n                                const BScroll = scroll.current.getBScroll()\r\n                                // 到顶部\r\n                                if (BScroll) {\r\n                                    BScroll.scrollTo(0, 0)\r\n                                }\r\n                            }\r\n                        })\r\n                    }, 200);\r\n                    // 回归1\r\n                    setPage(1);\r\n                }}></PubZoom>\r\n            </Transition>\r\n        </ZoomStyle>\r\n    )\r\n}\r\nexport default Zoom;\r\n","import React, { useState, useEffect } from 'react'\r\nimport Nav from '../../components/common/Nav'\r\nimport Icon from '../../components/context/Icon'\r\nimport LoginInput from '../../components/common/LoginInput'\r\nimport Friend from '../../components/context/Friend'\r\nimport Toast from '../../components/common/Toast'\r\n// css\r\nimport styled from 'styled-components'\r\n//导入方法\r\nimport { connect } from 'react-redux'\r\nimport { getSearchFriend, getAddFriend } from '../../store/socketHandle/action'\r\n\r\nconst AddStyle = styled.div`\r\n    .desc-word{\r\n        text-align:center;\r\n        font-size:0.7rem;\r\n        color:#888;\r\n        margin-top:1rem;\r\n    }\r\n`\r\nexport const AddFriends = (props) => {\r\n    const { socket, searchFriendList } = props;\r\n    const { onExit } = props\r\n    const [username, setUsername] = useState('')\r\n    const [show, setShow] = useState(false);\r\n    const [content, setContent] = useState('');\r\n    useEffect(() => {\r\n        if (username && !searchFriendList.length) {\r\n            showToast('除了你自己，查无此人~')\r\n        }\r\n        // 此处用到了username但是仅作为判断标志 不需要作为hook依赖\r\n        // eslint-disable-next-line\r\n    }, [searchFriendList])\r\n    const showToast = (content) => {\r\n        setShow(true);\r\n        setContent(content);\r\n        setTimeout(() => {\r\n            setShow(false)\r\n        }, 1000);\r\n    }\r\n    return (\r\n        <div>\r\n            <Nav>\r\n                <span onClick={() => {\r\n                    onExit();\r\n                }}>\r\n                    <Icon xlinkHref={\"#icon-houtui\"} size={\"1.7rem\"}></Icon>\r\n                </span>\r\n                <span>添加好友</span>\r\n                <span></span>\r\n            </Nav>\r\n            <AddStyle>\r\n                {/**搜索框 */}\r\n                <LoginInput xlinkHref={'#icon-sousuo'}\r\n                    placeHolder={\"用户名/userID/昵称\"}\r\n                    value={username}\r\n                    handleInput={(value) => {\r\n                        setUsername(value)\r\n                    }}\r\n                    handleIconClick={() => {\r\n                        if (username) {\r\n                            getSearchFriend(socket, username)\r\n                        } else {\r\n                            showToast(\"输入不能为空噢！\")\r\n                        }\r\n\r\n                    }}\r\n                ></LoginInput>\r\n                {/**显示框 */}\r\n                <div >\r\n                    {\r\n                        !searchFriendList.length&&(<div className='desc-word'>暂无结果,换个词搜搜看吧！</div>)\r\n                    }\r\n                    {\r\n                        searchFriendList.map(item => (\r\n                            <Friend key={item.userID}\r\n                                avator={item.avator}\r\n                                desc={item.signature}\r\n                                nickName={item.nickName}\r\n                                handleIconClick={() => {\r\n                                    getAddFriend(socket, item.userID)\r\n                                    showToast(\"请求已发送\")\r\n                                }}\r\n                            ></Friend>\r\n                        ))\r\n                    }\r\n                </div>\r\n\r\n                {/**提示框 */}\r\n                <div style={{ display: \"flex\", justifyContent: \"center\" }}>\r\n                    <Toast open={show} content={content}></Toast>\r\n                </div>\r\n\r\n            </AddStyle>\r\n        </div>\r\n    )\r\n}\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        socket: state.HomeReducer.socket,\r\n        searchFriendList: state.HomeReducer.searchFriendList\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(React.memo(AddFriends)) ","import styled from 'styled-components'\r\nexport const FriendList = styled.div`\r\n    .desc-friend{\r\n       position:relative;\r\n       left:1rem;\r\n       font-size:0.7rem;\r\n       color:#888;\r\n    }\r\n`\r\nexport const FriendContain = styled.div`\r\n    width: 100vw;\r\n    height: 100vh;\r\n    background-color: #f5f5f5;\r\n    h3{\r\n       position:relative;\r\n       left:1rem;\r\n    }\r\n`","import React, { useEffect, useState } from 'react'\r\n// 组件\r\nimport Nav from '../../components/common/Nav'\r\nimport Icon from '../../components/context/Icon'\r\nimport Transition from '../../components/common/Transition'\r\nimport AddFriends from '../AddFriends'\r\nimport Friend from '../../components/context/Friend'\r\nimport Toast from '../../components/common/Toast'\r\nimport Dialog from '../../components/common/Dialog'\r\nimport Chat from '../Chat'\r\n//redux和数据操作方法\r\nimport { getFriendShip, getAgreeFriend, getDeleteFriend } from '../../store/socketHandle/action'\r\nimport { connect } from 'react-redux'\r\nimport { actionCreator } from '../Chat/store'\r\n//css\r\nimport { FriendList, FriendContain } from './style'\r\nconst Friends = (props) => {\r\n    const { socket, friendList } = props;\r\n    // 获取dispatch返回\r\n    const { changeTarget } = props;\r\n    // 展示 好友添加列表\r\n    const [show, setShow] = useState(false)\r\n    // 展示 好友聊天页面\r\n    const [chat, setChat] = useState(false)\r\n    const [openToast, setOpenToast] = useState(false)\r\n    const [openDialog, setOpenDialog] = useState(false)\r\n    const [content, setContent] = useState('')\r\n    // 设置当前操作的target\r\n    const [target, setTarget] = useState('')\r\n    // 设置当前操作地target的头像和昵称\r\n    const [avator, setAvator] = useState('https://xgpax.top/wp-content/uploads/2020/11/defaultAvator.png')\r\n    const [nickname, setNickname] = useState('')\r\n    // 定义setToast方法用于显示\r\n    const setToast = (content) => {\r\n        setOpenToast(true);\r\n        setContent(content)\r\n        setTimeout(() => {\r\n            setOpenToast(false)\r\n        }, 1000);\r\n    }\r\n    // 获取朋友清单\r\n    useEffect(() => {\r\n        if (socket) {\r\n            getFriendShip(socket);\r\n        }\r\n        // eslint-disable-next-line \r\n    }, [])\r\n    return (\r\n        <FriendContain>\r\n            {/**nav状态 */}\r\n            <Nav>\r\n                <span></span>\r\n                <span>朋友</span>\r\n                <span onClick={() => {\r\n                    setShow(true)\r\n                }} style={{ position: 'relative', right: '1rem' }}>\r\n                    <Icon xlinkHref=\"#icon-add\" size={\"1.8rem\"}></Icon>\r\n                </span>\r\n            </Nav>\r\n            <h3>新朋友：</h3>\r\n            {/**请求的好友列表 */}\r\n            <FriendList>\r\n                {\r\n                    friendList.adding.length ?\r\n                        friendList.adding.map(item => (<Friend key={item.friendID}\r\n                            avator={item.avator}\r\n                            desc={item.signature}\r\n                            nickName={item.nickName}\r\n                            xlinkHref={item.sender === item.userID ? \"#icon-status_wating\" : \"#icon-xiugai\"}\r\n                            handleIconClick={() => {\r\n                                if (item.sender === item.userID) {\r\n                                    setToast('等待对方确认中')\r\n                                } else {\r\n                                    setTarget(item.friendID)\r\n                                    setOpenDialog(true)\r\n                                }\r\n                            }}\r\n                        ></Friend>)) : (<div className=\"desc-friend\">暂时没有新好友请求</div>)\r\n                }\r\n            </FriendList>\r\n            {/**朋友列表 */}\r\n            <h3>好友列表：</h3>\r\n            <FriendList>\r\n                {\r\n                    friendList.added.length ?\r\n                        friendList.added.map(item => (<Friend key={item.friendID}\r\n                            avator={item.avator}\r\n                            desc={item.signature}\r\n                            nickName={item.nickName}\r\n                            handleIconClick={() => {\r\n                                changeTarget(item.friendID)\r\n                                setAvator(item.avator)\r\n                                setNickname(item.nickName)\r\n                                setChat(true)\r\n                            }}\r\n                            xlinkHref={\"#icon-liaotian\"}\r\n                        ></Friend>)) : (<div className=\"desc-friend\">无好友，快点击右上角添加好友吧！</div>)\r\n                }\r\n            </FriendList>\r\n            {/**提示框 */}\r\n            <div style={{ display: \"flex\", justifyContent: \"center\", textAlign: \"center\", width: \"100%\" }}>\r\n                <Toast content={content} open={openToast}></Toast>\r\n            </div>\r\n            <Dialog open={openDialog}\r\n                title={'好友确认'}\r\n                needCheck={true}\r\n                buttonDesc={['同意', '拒绝']}\r\n                onExit={() => {\r\n                    setOpenDialog(false)\r\n                }}\r\n                onConfirm={() => {\r\n                    // 通过申请\r\n                    getAgreeFriend(socket, target)\r\n                    setOpenDialog(false)\r\n                }}\r\n                onCancel={() => {\r\n                    // 拒绝申请\r\n                    getDeleteFriend(socket, target)\r\n                    setOpenDialog(false)\r\n                }}\r\n            >\r\n                <div>是否通过申请?</div>\r\n            </Dialog>\r\n            {/**添加页面 */}\r\n            <Transition show={show}>\r\n                <AddFriends onExit={() => {\r\n                    setShow(false)\r\n                }}></AddFriends>\r\n            </Transition>\r\n            {/**聊天页面 */}\r\n            <Transition show={chat}>\r\n                <Chat\r\n                    targetAvator={avator}\r\n                    targetNickname={nickname}\r\n                    onExit={() => {\r\n                        setChat(false)\r\n                       // 退出就清除\r\n                        changeTarget('')\r\n                    }}></Chat>\r\n            </Transition>\r\n        </FriendContain>\r\n    )\r\n}\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        socket: state.HomeReducer.socket,\r\n        friendList: state.HomeReducer.friendList\r\n    }\r\n}\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        changeTarget: (target) => {\r\n            dispatch(actionCreator.targetChange(target))\r\n        }\r\n    }\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(React.memo(Friends));\r\n","import { Redirect } from 'react-router-dom'\r\nimport Login from '../views/Login'\r\nimport Home from '../views/Home'\r\nimport Message from '../views/Message';\r\nimport Zoom from '../views/Zoom'\r\nimport Friends from '../views/Friends'\r\nconst routes = [\r\n    {\r\n        path: '/',\r\n        exact: true,\r\n        component: Login,\r\n        key: 'Login'\r\n    },\r\n    {\r\n        path: '/home',\r\n        component: Home,\r\n        key: 'Home',\r\n        routes: [\r\n            {\r\n                path: '/home/',\r\n                exact: true,\r\n                render: () => <Redirect to=\"/home/message\" />\r\n            },\r\n            {\r\n                path: '/home/message',\r\n                component: Message\r\n            },\r\n            {\r\n                path: '/home/friends',\r\n                component: Friends\r\n            },\r\n            {\r\n                path: '/home/zoom',\r\n                component: Zoom\r\n            },\r\n            {\r\n                path: '/home/*',\r\n                component: () => <Redirect to=\"/home/message\" />\r\n            },\r\n        ]\r\n    },\r\n    // 配置重定向到主页\r\n    {\r\n        key: '404',\r\n        path: '*',\r\n        component: () => <Redirect to=\"/\" />\r\n    }\r\n]\r\nexport default routes","import { createGlobalStyle } from 'styled-components'\r\nconst NormalizeStyle = createGlobalStyle`\r\n/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */\r\n\r\n/* Document\r\n   ========================================================================== */\r\n\r\n/**\r\n * 1. Correct the line height in all browsers.\r\n * 2. Prevent adjustments of font size after orientation changes in iOS.\r\n */\r\n\r\nhtml {\r\n    line-height: 1.15;\r\n    /* 1 */\r\n    -webkit-text-size-adjust: 100%;\r\n    /* 2 */\r\n}\r\n\r\n/* Sections\r\n     ========================================================================== */\r\n\r\n/**\r\n   * Remove the margin in all browsers.\r\n   */\r\n\r\nbody {\r\n    margin: 0;\r\n}\r\n\r\nmain {\r\n    display: block;\r\n}\r\n\r\n\r\nh1 {\r\n    font-size: 2em;\r\n    margin: 0.67em 0;\r\n}\r\n\r\n/* Grouping content\r\n     ========================================================================== */\r\n\r\n/**\r\n   * 1. Add the correct box sizing in Firefox.\r\n   * 2. Show the overflow in Edge and IE.\r\n   */\r\n\r\nhr {\r\n    box-sizing: content-box;\r\n    /* 1 */\r\n    height: 0;\r\n    /* 1 */\r\n    overflow: visible;\r\n    /* 2 */\r\n}\r\n\r\n\r\npre {\r\n    font-family: monospace, monospace;\r\n    /* 1 */\r\n    font-size: 1em;\r\n    /* 2 */\r\n}\r\n\r\n/* Text-level semantics\r\n     ========================================================================== */\r\n\r\n/**\r\n   * Remove the gray background on active links in IE 10.\r\n   */\r\n\r\na {\r\n    background-color: transparent;\r\n}\r\n\r\n/**\r\n   * 1. Remove the bottom border in Chrome 57-\r\n   * 2. Add the correct text decoration in Chrome, Edge, IE, Opera, and Safari.\r\n   */\r\n\r\nabbr[title] {\r\n    border-bottom: none;\r\n    /* 1 */\r\n    text-decoration: underline;\r\n    /* 2 */\r\n    text-decoration: underline dotted;\r\n    /* 2 */\r\n}\r\n\r\n/**\r\n   * Add the correct font weight in Chrome, Edge, and Safari.\r\n   */\r\n\r\nb,\r\nstrong {\r\n    font-weight: bolder;\r\n}\r\n\r\n\r\ncode,\r\nkbd,\r\nsamp {\r\n    font-family: monospace, monospace;\r\n    /* 1 */\r\n    font-size: 1em;\r\n    /* 2 */\r\n}\r\n\r\n/**\r\n   * Add the correct font size in all browsers.\r\n   */\r\n\r\nsmall {\r\n    font-size: 80%;\r\n}\r\n\r\n\r\n\r\nsub,\r\nsup {\r\n    font-size: 75%;\r\n    line-height: 0;\r\n    position: relative;\r\n    vertical-align: baseline;\r\n}\r\n\r\nsub {\r\n    bottom: -0.25em;\r\n}\r\n\r\nsup {\r\n    top: -0.5em;\r\n}\r\n\r\n/* Embedded content\r\n     ========================================================================== */\r\n\r\n/**\r\n   * Remove the border on images inside links in IE 10.\r\n   */\r\n\r\nimg {\r\n    border-style: none;\r\n}\r\n\r\n/* Forms\r\n     ========================================================================== */\r\n\r\n/**\r\n   * 1. Change the font styles in all browsers.\r\n   * 2. Remove the margin in Firefox and Safari.\r\n   */\r\n\r\nbutton,\r\ninput,\r\noptgroup,\r\nselect,\r\ntextarea {\r\n    font-family: inherit;\r\n    /* 1 */\r\n    font-size: 100%;\r\n    /* 1 */\r\n    line-height: 1.15;\r\n    /* 1 */\r\n    margin: 0;\r\n    /* 2 */\r\n}\r\n\r\n/**\r\n   * Show the overflow in IE.\r\n   * 1. Show the overflow in Edge.\r\n   */\r\ninput:focus{\r\n    outline:none\r\n}\r\n\r\n\r\nbutton,\r\ninput {\r\n    /* 1 */\r\n    overflow: visible;\r\n}\r\n\r\n/**\r\n   * Remove the inheritance of text transform in Edge, Firefox, and IE.\r\n   * 1. Remove the inheritance of text transform in Firefox.\r\n   */\r\n\r\nbutton,\r\nselect {\r\n    /* 1 */\r\n    text-transform: none;\r\n}\r\n\r\n/**\r\n   * Correct the inability to style clickable types in iOS and Safari.\r\n   */\r\n\r\nbutton,\r\n[type=\"button\"],\r\n[type=\"reset\"],\r\n[type=\"submit\"] {\r\n    -webkit-appearance: button;\r\n}\r\n\r\n/**\r\n   * Remove the inner border and padding in Firefox.\r\n   */\r\n\r\nbutton::-moz-focus-inner,\r\n[type=\"button\"]::-moz-focus-inner,\r\n[type=\"reset\"]::-moz-focus-inner,\r\n[type=\"submit\"]::-moz-focus-inner {\r\n    border-style: none;\r\n    padding: 0;\r\n}\r\n\r\n/**\r\n   * Restore the focus styles unset by the previous rule.\r\n   */\r\n\r\nbutton:-moz-focusring,\r\n[type=\"button\"]:-moz-focusring,\r\n[type=\"reset\"]:-moz-focusring,\r\n[type=\"submit\"]:-moz-focusring {\r\n    outline: 1px dotted ButtonText;\r\n}\r\n\r\n/**\r\n   * Correct the padding in Firefox.\r\n   */\r\n\r\nfieldset {\r\n    padding: 0.35em 0.75em 0.625em;\r\n}\r\n\r\n\r\nlegend {\r\n    box-sizing: border-box;\r\n    /* 1 */\r\n    color: inherit;\r\n    /* 2 */\r\n    display: table;\r\n    /* 1 */\r\n    max-width: 100%;\r\n    /* 1 */\r\n    padding: 0;\r\n    /* 3 */\r\n    white-space: normal;\r\n    /* 1 */\r\n}\r\n\r\n/**\r\n   * Add the correct vertical alignment in Chrome, Firefox, and Opera.\r\n   */\r\n\r\nprogress {\r\n    vertical-align: baseline;\r\n}\r\n\r\n/**\r\n   * Remove the default vertical scrollbar in IE 10+.\r\n   */\r\n\r\ntextarea {\r\n    overflow: auto;\r\n}\r\n\r\n/**\r\n   * 1. Add the correct box sizing in IE 10.\r\n   * 2. Remove the padding in IE 10.\r\n   */\r\n\r\n[type=\"checkbox\"],\r\n[type=\"radio\"] {\r\n    box-sizing: border-box;\r\n    /* 1 */\r\n    padding: 0;\r\n    /* 2 */\r\n}\r\n\r\n/**\r\n   * Correct the cursor style of increment and decrement buttons in Chrome.\r\n   */\r\n\r\n[type=\"number\"]::-webkit-inner-spin-button,\r\n[type=\"number\"]::-webkit-outer-spin-button {\r\n    height: auto;\r\n}\r\n\r\n/**\r\n   * 1. Correct the odd appearance in Chrome and Safari.\r\n   * 2. Correct the outline style in Safari.\r\n   */\r\n\r\n[type=\"search\"] {\r\n    -webkit-appearance: textfield;\r\n    /* 1 */\r\n    outline-offset: -2px;\r\n    /* 2 */\r\n}\r\n\r\n/**\r\n   * Remove the inner padding in Chrome and Safari on macOS.\r\n   */\r\n\r\n[type=\"search\"]::-webkit-search-decoration {\r\n    -webkit-appearance: none;\r\n}\r\n\r\n\r\n\r\n::-webkit-file-upload-button {\r\n    -webkit-appearance: button;\r\n    /* 1 */\r\n    font: inherit;\r\n    /* 2 */\r\n}\r\n\r\n\r\n\r\ndetails {\r\n    display: block;\r\n}\r\n\r\n\r\n\r\nsummary {\r\n    display: list-item;\r\n}\r\n\r\n/* Misc\r\n     ========================================================================== */\r\n\r\n/**\r\n   * Add the correct display in IE 10+.\r\n   */\r\n\r\ntemplate {\r\n    display: none;\r\n}\r\n\r\n/**\r\n   * Add the correct display in IE 10.\r\n   */\r\n\r\n[hidden] {\r\n    display: none;\r\n}\r\n`\r\nexport default NormalizeStyle","import { createGlobalStyle } from 'styled-components'\r\nconst SelfStyle = createGlobalStyle`\r\n   html{\r\n    background-color:#f5f5f5;\r\n   }\r\n`\r\nexport default SelfStyle","import React from \"react\";\r\nimport { CSSTransition, TransitionGroup } from \"react-transition-group\";\r\nimport { Switch, Route, withRouter } from \"react-router-dom\";\r\nimport \"./index.css\";\r\n\r\n/**\r\n *\r\n * @param {way} props\r\n * @description 用于页面路由跳转 通过way指定跳转方式，指定way=refade\r\n * 则反向\r\n *\r\n */\r\nconst ANIMATION_MAP = {\r\n  PUSH: \"fade\",\r\n  POP: \"refade\",\r\n};\r\nfunction AnimationGo(props) {\r\n  const { children } = props;\r\n  return (\r\n    <Route\r\n      render={({ location }) => (\r\n        <TransitionGroup\r\n          childFactory={(child) =>\r\n            React.cloneElement(child, {\r\n              classNames: ANIMATION_MAP[props.history.action],\r\n            })\r\n          }\r\n        >\r\n          <CSSTransition timeout={500} key={/**限制二级路由的动画 */location.pathname.substring(0, location.pathname.lastIndexOf('/'))}>\r\n            <Switch location={location}>{children}</Switch>\r\n          </CSSTransition>\r\n        </TransitionGroup>\r\n      )}\r\n    ></Route>\r\n  );\r\n}\r\n\r\nexport default withRouter(React.memo(AnimationGo));\r\n","import React from 'react'\r\n// 路由配置\r\nimport { HashRouter as Router } from 'react-router-dom'\r\nimport { renderRoutes } from 'react-router-config'\r\nimport routes from './routes'\r\n// redux配置\r\nimport { Provider } from 'react-redux'\r\nimport store from './store'\r\n// 全局css导入 normalize.css\r\nimport NormalizeStyle from './globalStyle/normalize'\r\nimport SelfStyle from './globalStyle/selfStyle'\r\n// 导入全局路由动画组件\r\nimport AnimationGo from './components/common/AnimationGo'\r\nfunction App() {\r\n  return (\r\n    <Provider store={store} >\r\n      <SelfStyle />\r\n      <NormalizeStyle />\r\n      <Router>\r\n        <AnimationGo>\r\n          {renderRoutes(routes, {}, { key: 'test' })}\r\n        </AnimationGo>\r\n      </Router>\r\n    </Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <App />,document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}